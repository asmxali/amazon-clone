[debug] [2020-12-28T19:54:32.523Z] ----------------------------------------------------------------------
[debug] [2020-12-28T19:54:32.526Z] Command:       /Users/asmaali/.nvm/versions/node/v10.16.1/bin/node /Users/asmaali/.nvm/versions/node/v10.16.1/bin/firebase emulators:start
[debug] [2020-12-28T19:54:32.527Z] CLI Version:   9.1.0
[debug] [2020-12-28T19:54:32.527Z] Platform:      darwin
[debug] [2020-12-28T19:54:32.527Z] Node Version:  v10.16.1
[debug] [2020-12-28T19:54:32.529Z] Time:          Mon Dec 28 2020 14:54:32 GMT-0500 (Eastern Standard Time)
[debug] [2020-12-28T19:54:32.529Z] ----------------------------------------------------------------------
[debug] [2020-12-28T19:54:32.529Z] 
[debug] [2020-12-28T19:54:32.546Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-12-28T19:54:32.547Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2020-12-28T19:54:32.578Z] [hub] writing locator at /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/hub-clone-df399.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "10" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"10\""}}
[debug] [2020-12-28T19:54:32.620Z] defaultcredentials: writing to file /Users/asmaali/.config/firebase/amino_asmaa.ali_gmail.com_application_default_credentials.json
[debug] [2020-12-28T19:54:32.625Z] Setting GAC to /Users/asmaali/.config/firebase/amino_asmaa.ali_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/asmaali/.config/firebase/amino_asmaa.ali_gmail.com_application_default_credentials.json"}}
[debug] [2020-12-28T19:54:32.636Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/clone-df399/webApps/-/config  
 
[debug] [2020-12-28T19:54:33.280Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Mon, 28 Dec 2020 19:54:34 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.4.1.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.4.1.zip..."}}
[debug] [2020-12-28T19:54:33.589Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip [none]
[debug] [2020-12-28T19:54:33.857Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip 200
[debug] [2020-12-28T19:54:33.858Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip [stream]
[debug] [2020-12-28T19:54:34.466Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2020-12-28T19:54:34.466Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2020-12-28T19:54:34.466Z] Starting Emulator UI with command {"binary":"node","args":["/Users/asmaali/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/asmaali/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2020-12-28T19:54:34.689Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/asmaali/Desktop/CP/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/asmaali/Desktop/CP/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2020-12-28T19:54:34.741Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T19:54:34.742Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T19:54:34.742Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T19:54:34.743Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14834.sock"}}
[debug] [2020-12-28T19:54:34.743Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: BUSY"}}
[debug] [2020-12-28T19:54:35.006Z] [runtime-status] [14834] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T19:54:35.008Z] [runtime-status] [14834] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Disabled runtime features: undefined"}}
[debug] [2020-12-28T19:54:35.014Z] [runtime-status] [14834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.017Z] [runtime-status] [14834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.018Z] [runtime-status] [14834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.022Z] [runtime-status] [14834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T19:54:35.023Z] [runtime-status] [14834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.119Z] [runtime-status] [14834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T19:54:35.120Z] [runtime-status] [14834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T19:54:35.120Z] [runtime-status] [14834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.121Z] [runtime-status] [14834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.122Z] [runtime-status] [14834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:54:35.122Z] [runtime-status] [14834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2020-12-28T19:54:35.435Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: IDLE"}}
[debug] [2020-12-28T19:56:49.843Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T19:56:50.845Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T19:56:50.845Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: FINISHING"}}
[debug] [2020-12-28T19:56:50.854Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T19:56:50.855Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T19:56:50.855Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T19:56:50.856Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14847.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14847.sock"}}
[debug] [2020-12-28T19:56:50.856Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: BUSY"}}
[debug] [2020-12-28T19:56:50.859Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: exited"}}
[debug] [2020-12-28T19:56:50.859Z] [worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-70c9f776-ad76-49c7-bbc3-7c8cf8e71224]: FINISHED"}}
[debug] [2020-12-28T19:56:51.363Z] [runtime-status] [14847] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T19:56:51.366Z] [runtime-status] [14847] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Disabled runtime features: undefined"}}
[debug] [2020-12-28T19:56:51.371Z] [runtime-status] [14847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.373Z] [runtime-status] [14847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.374Z] [runtime-status] [14847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.379Z] [runtime-status] [14847] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T19:56:51.380Z] [runtime-status] [14847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.502Z] [runtime-status] [14847] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T19:56:51.503Z] [runtime-status] [14847] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T19:56:51.503Z] [runtime-status] [14847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.504Z] [runtime-status] [14847] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.505Z] [runtime-status] [14847] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:56:51.505Z] [runtime-status] [14847] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14847] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-df399/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-df399/us-central1/api)."}}
[debug] [2020-12-28T19:56:51.836Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: IDLE"}}
[debug] [2020-12-28T19:56:59.981Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-28T19:56:59.982Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-28T19:56:59.982Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T19:56:59.984Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T19:56:59.988Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T19:56:59.989Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T19:56:59.990Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T19:56:59.990Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14850.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14850.sock"}}
[debug] [2020-12-28T19:56:59.990Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: BUSY"}}
[debug] [2020-12-28T19:57:00.653Z] [runtime-status] [14850] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T19:57:00.662Z] [runtime-status] [14850] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Disabled runtime features: undefined"}}
[debug] [2020-12-28T19:57:00.670Z] [runtime-status] [14850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.672Z] [runtime-status] [14850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.674Z] [runtime-status] [14850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.680Z] [runtime-status] [14850] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T19:57:00.680Z] [runtime-status] [14850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.813Z] [runtime-status] [14850] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T19:57:00.814Z] [runtime-status] [14850] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T19:57:00.814Z] [runtime-status] [14850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.816Z] [runtime-status] [14850] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.817Z] [runtime-status] [14850] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:00.817Z] [runtime-status] [14850] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T19:57:01.060Z] [runtime-status] [14850] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T19:57:01.062Z] [runtime-status] [14850] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T19:57:01.062Z] [runtime-status] [14850] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Running api in mode HTTPS"}}
[debug] [2020-12-28T19:57:01.071Z] [runtime-status] [14850] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14850.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14850.sock"}}
[debug] [2020-12-28T19:57:01.080Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T19:57:01.091Z] [runtime-status] [14850] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Ephemeral server handling GET request"}}
[debug] [2020-12-28T19:57:01.106Z] [runtime-status] [14850] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14850] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T19:57:01.109Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: IDLE"}}
[debug] [2020-12-28T19:57:01.109Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2020-12-28T19:57:01.687Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2020-12-28T19:57:24.275Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T19:57:25.277Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T19:57:25.278Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: FINISHING"}}
[debug] [2020-12-28T19:57:25.278Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-12-28T19:57:25.278Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: FINISHING"}}
[debug] [2020-12-28T19:57:25.287Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T19:57:25.287Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T19:57:25.288Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T19:57:25.288Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14852.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14852.sock"}}
[debug] [2020-12-28T19:57:25.288Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: BUSY"}}
[debug] [2020-12-28T19:57:25.289Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: exited"}}
[debug] [2020-12-28T19:57:25.290Z] [worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d03ca62c-9ec7-40f3-a576-b48ff92ac956]: FINISHED"}}
[debug] [2020-12-28T19:57:25.290Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: exited"}}
[debug] [2020-12-28T19:57:25.293Z] [worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c1829621-771b-4c0f-8c82-a8081c5cbcd0]: FINISHED"}}
[debug] [2020-12-28T19:57:25.689Z] [runtime-status] [14852] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T19:57:25.692Z] [runtime-status] [14852] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Disabled runtime features: undefined"}}
[debug] [2020-12-28T19:57:25.696Z] [runtime-status] [14852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.698Z] [runtime-status] [14852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.699Z] [runtime-status] [14852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.703Z] [runtime-status] [14852] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T19:57:25.704Z] [runtime-status] [14852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.845Z] [runtime-status] [14852] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T19:57:25.845Z] [runtime-status] [14852] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T19:57:25.847Z] [runtime-status] [14852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.850Z] [runtime-status] [14852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.851Z] [runtime-status] [14852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T19:57:25.851Z] [runtime-status] [14852] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14852] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T19:57:26.085Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: IDLE"}}
[debug] [2020-12-28T20:00:23.282Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:00:24.284Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:00:24.284Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: FINISHING"}}
[debug] [2020-12-28T20:00:24.285Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:00:24.285Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:00:24.292Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:00:24.293Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:00:24.293Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:00:24.293Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14857.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14857.sock"}}
[debug] [2020-12-28T20:00:24.293Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: BUSY"}}
[debug] [2020-12-28T20:00:24.296Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: exited"}}
[debug] [2020-12-28T20:00:24.296Z] [worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4dd5332-de30-40ca-8773-b8c72f82d971]: FINISHED"}}
[debug] [2020-12-28T20:00:24.725Z] [runtime-status] [14857] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:00:24.728Z] [runtime-status] [14857] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:00:24.733Z] [runtime-status] [14857] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.736Z] [runtime-status] [14857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.737Z] [runtime-status] [14857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.741Z] [runtime-status] [14857] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:00:24.742Z] [runtime-status] [14857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.841Z] [runtime-status] [14857] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:00:24.841Z] [runtime-status] [14857] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:00:24.842Z] [runtime-status] [14857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.843Z] [runtime-status] [14857] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.843Z] [runtime-status] [14857] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:00:24.843Z] [runtime-status] [14857] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14857] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:00:25.109Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: IDLE"}}
[debug] [2020-12-28T20:01:49.396Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:01:50.399Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:01:50.399Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: FINISHING"}}
[debug] [2020-12-28T20:01:50.402Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:01:50.420Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:01:50.424Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:01:50.425Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:01:50.425Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14860.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14860.sock"}}
[debug] [2020-12-28T20:01:50.425Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: BUSY"}}
[debug] [2020-12-28T20:01:50.427Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: exited"}}
[debug] [2020-12-28T20:01:50.427Z] [worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1797f7c3-7cf9-475c-84fe-370078d800d3]: FINISHED"}}
[debug] [2020-12-28T20:01:50.896Z] [runtime-status] [14860] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:01:50.899Z] [runtime-status] [14860] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:01:50.904Z] [runtime-status] [14860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:50.906Z] [runtime-status] [14860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:50.907Z] [runtime-status] [14860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:50.912Z] [runtime-status] [14860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:01:50.914Z] [runtime-status] [14860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:51.022Z] [runtime-status] [14860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:01:51.023Z] [runtime-status] [14860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:01:51.024Z] [runtime-status] [14860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:51.026Z] [runtime-status] [14860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:51.027Z] [runtime-status] [14860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:01:51.027Z] [runtime-status] [14860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:01:51.298Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: IDLE"}}
[debug] [2020-12-28T20:02:31.092Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:02:32.093Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:02:32.093Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: FINISHING"}}
[debug] [2020-12-28T20:02:32.093Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:02:32.102Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:02:32.103Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:02:32.103Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:02:32.103Z] [worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14862.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14862.sock"}}
[debug] [2020-12-28T20:02:32.103Z] [worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: BUSY"}}
[debug] [2020-12-28T20:02:32.104Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: exited"}}
[debug] [2020-12-28T20:02:32.104Z] [worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a60154c-bb99-4508-918e-b561797e3e37]: FINISHED"}}
[debug] [2020-12-28T20:02:32.581Z] [runtime-status] [14862] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:02:32.584Z] [runtime-status] [14862] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:02:32.589Z] [runtime-status] [14862] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.591Z] [runtime-status] [14862] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.592Z] [runtime-status] [14862] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.597Z] [runtime-status] [14862] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:02:32.597Z] [runtime-status] [14862] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.707Z] [runtime-status] [14862] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:02:32.708Z] [runtime-status] [14862] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:02:32.708Z] [runtime-status] [14862] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.709Z] [runtime-status] [14862] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.709Z] [runtime-status] [14862] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:32.710Z] [runtime-status] [14862] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14862] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:19
console.log("payment request recieved for amount, " total)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

SyntaxError: missing ) after argument list
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:19\nconsole.log(\"payment request recieved for amount, \" total)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nSyntaxError: missing ) after argument list\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:02:32.739Z] [worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: exited"}}
[debug] [2020-12-28T20:02:32.739Z] [worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c9eebacb-dbf9-4f14-b697-9db9a01c94e2]: FINISHED"}}
[debug] [2020-12-28T20:02:34.368Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:02:35.372Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2020-12-28T20:02:35.378Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:02:35.378Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:02:35.378Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:02:35.379Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14863.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14863.sock"}}
[debug] [2020-12-28T20:02:35.379Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: BUSY"}}
[debug] [2020-12-28T20:02:35.871Z] [runtime-status] [14863] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:02:35.880Z] [runtime-status] [14863] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:02:35.892Z] [runtime-status] [14863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:35.895Z] [runtime-status] [14863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:35.896Z] [runtime-status] [14863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:35.902Z] [runtime-status] [14863] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:02:35.903Z] [runtime-status] [14863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:36.000Z] [runtime-status] [14863] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:02:36.001Z] [runtime-status] [14863] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:02:36.002Z] [runtime-status] [14863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:36.003Z] [runtime-status] [14863] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:36.004Z] [runtime-status] [14863] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:02:36.005Z] [runtime-status] [14863] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14863] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:02:36.255Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: IDLE"}}
[debug] [2020-12-28T20:03:59.698Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:04:00.703Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:04:00.703Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: FINISHING"}}
[debug] [2020-12-28T20:04:00.714Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:04:00.714Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:04:00.715Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:04:00.715Z] [worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14865.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14865.sock"}}
[debug] [2020-12-28T20:04:00.716Z] [worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: BUSY"}}
[debug] [2020-12-28T20:04:00.718Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: exited"}}
[debug] [2020-12-28T20:04:00.718Z] [worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-16d9a085-9463-4a66-a6ee-0606536e3834]: FINISHED"}}
[debug] [2020-12-28T20:04:01.173Z] [runtime-status] [14865] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:04:01.177Z] [runtime-status] [14865] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:04:01.182Z] [runtime-status] [14865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.185Z] [runtime-status] [14865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.186Z] [runtime-status] [14865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.191Z] [runtime-status] [14865] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:04:01.192Z] [runtime-status] [14865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.319Z] [runtime-status] [14865] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:04:01.319Z] [runtime-status] [14865] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:04:01.320Z] [runtime-status] [14865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.322Z] [runtime-status] [14865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.322Z] [runtime-status] [14865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:01.323Z] [runtime-status] [14865] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14865] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20
  const paymentIntent = await stripe.paymentIntents.create({amount: total,currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20\n  const paymentIntent = await stripe.paymentIntents.create({amount: total,currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:04:01.347Z] [worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: exited"}}
[debug] [2020-12-28T20:04:01.348Z] [worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-3fda6e26-27f6-4441-9690-83502202c400]: FINISHED"}}
[debug] [2020-12-28T20:04:02.505Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:04:03.512Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2020-12-28T20:04:03.524Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:04:03.525Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:04:03.525Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:04:03.526Z] [worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14867.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14867.sock"}}
[debug] [2020-12-28T20:04:03.527Z] [worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: BUSY"}}
[debug] [2020-12-28T20:04:03.882Z] [runtime-status] [14867] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:04:03.885Z] [runtime-status] [14867] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:04:03.890Z] [runtime-status] [14867] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.892Z] [runtime-status] [14867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.893Z] [runtime-status] [14867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.897Z] [runtime-status] [14867] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:04:03.898Z] [runtime-status] [14867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.954Z] [runtime-status] [14867] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:04:03.955Z] [runtime-status] [14867] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:04:03.955Z] [runtime-status] [14867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.956Z] [runtime-status] [14867] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.957Z] [runtime-status] [14867] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:03.957Z] [runtime-status] [14867] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14867] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:04:03.979Z] [worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: exited"}}
[debug] [2020-12-28T20:04:03.979Z] [worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6f32c42a-83a9-47ed-acc5-0d35e10c7aa5]: FINISHED"}}
[debug] [2020-12-28T20:04:12.475Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:04:13.478Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:04:13.484Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:04:13.485Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:04:13.485Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:04:13.485Z] [worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14868.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14868.sock"}}
[debug] [2020-12-28T20:04:13.485Z] [worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: BUSY"}}
[debug] [2020-12-28T20:04:13.747Z] [runtime-status] [14868] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:04:13.749Z] [runtime-status] [14868] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:04:13.753Z] [runtime-status] [14868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.759Z] [runtime-status] [14868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.759Z] [runtime-status] [14868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.761Z] [runtime-status] [14868] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:04:13.762Z] [runtime-status] [14868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.813Z] [runtime-status] [14868] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:04:13.814Z] [runtime-status] [14868] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:04:13.814Z] [runtime-status] [14868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.815Z] [runtime-status] [14868] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.815Z] [runtime-status] [14868] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:13.815Z] [runtime-status] [14868] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14868] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:20\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:04:13.839Z] [worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: exited"}}
[debug] [2020-12-28T20:04:13.840Z] [worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-96dee1bf-c6d2-4ccb-8340-a897bdbeb242]: FINISHED"}}
[debug] [2020-12-28T20:04:19.043Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:04:20.048Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:04:20.054Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:04:20.054Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:04:20.055Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:04:20.055Z] [worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14869.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14869.sock"}}
[debug] [2020-12-28T20:04:20.055Z] [worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: BUSY"}}
[debug] [2020-12-28T20:04:20.424Z] [runtime-status] [14869] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:04:20.427Z] [runtime-status] [14869] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:04:20.432Z] [runtime-status] [14869] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.434Z] [runtime-status] [14869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.435Z] [runtime-status] [14869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.440Z] [runtime-status] [14869] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:04:20.440Z] [runtime-status] [14869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.505Z] [runtime-status] [14869] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:04:20.506Z] [runtime-status] [14869] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:04:20.508Z] [runtime-status] [14869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.510Z] [runtime-status] [14869] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.510Z] [runtime-status] [14869] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:04:20.511Z] [runtime-status] [14869] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14869] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:22
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:22\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:04:20.536Z] [worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: exited"}}
[debug] [2020-12-28T20:04:20.537Z] [worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a42c5ca8-72a0-4113-ba83-681b64d271dc]: FINISHED"}}
[debug] [2020-12-28T20:05:09.700Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:05:10.705Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:05:10.710Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:05:10.711Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:05:10.711Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:05:10.712Z] [worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14872.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14872.sock"}}
[debug] [2020-12-28T20:05:10.712Z] [worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: BUSY"}}
[debug] [2020-12-28T20:05:11.241Z] [runtime-status] [14872] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:05:11.245Z] [runtime-status] [14872] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:05:11.250Z] [runtime-status] [14872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.258Z] [runtime-status] [14872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.259Z] [runtime-status] [14872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.265Z] [runtime-status] [14872] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:05:11.266Z] [runtime-status] [14872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.407Z] [runtime-status] [14872] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:05:11.407Z] [runtime-status] [14872] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:05:11.408Z] [runtime-status] [14872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.409Z] [runtime-status] [14872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.410Z] [runtime-status] [14872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:11.410Z] [runtime-status] [14872] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14872] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:05:11.431Z] [worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: exited"}}
[debug] [2020-12-28T20:05:11.431Z] [worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-cd2ab793-d0ea-491f-882f-15f1c97550dd]: FINISHED"}}
[debug] [2020-12-28T20:05:47.836Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:05:48.839Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:05:48.847Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:05:48.847Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:05:48.847Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:05:48.848Z] [worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14878.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14878.sock"}}
[debug] [2020-12-28T20:05:48.849Z] [worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: BUSY"}}
[debug] [2020-12-28T20:05:49.314Z] [runtime-status] [14878] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:05:49.317Z] [runtime-status] [14878] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:05:49.324Z] [runtime-status] [14878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.327Z] [runtime-status] [14878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.328Z] [runtime-status] [14878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.334Z] [runtime-status] [14878] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:05:49.334Z] [runtime-status] [14878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.442Z] [runtime-status] [14878] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:05:49.443Z] [runtime-status] [14878] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:05:49.444Z] [runtime-status] [14878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.445Z] [runtime-status] [14878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.446Z] [runtime-status] [14878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:05:49.446Z] [runtime-status] [14878] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14878] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:05:49.469Z] [worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: exited"}}
[debug] [2020-12-28T20:05:49.469Z] [worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25110552-3403-416b-a0cb-4352bdd2ca36]: FINISHED"}}
[debug] [2020-12-28T20:07:09.450Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2020-12-28T20:07:09.450Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2020-12-28T20:07:09.450Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:07:09.451Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:07:09.455Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:07:09.456Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:07:09.456Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:07:09.456Z] [worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14885.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14885.sock"}}
[debug] [2020-12-28T20:07:09.456Z] [worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: BUSY"}}
[debug] [2020-12-28T20:07:09.865Z] [runtime-status] [14885] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:07:09.868Z] [runtime-status] [14885] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:07:09.874Z] [runtime-status] [14885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:09.877Z] [runtime-status] [14885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:09.878Z] [runtime-status] [14885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:09.884Z] [runtime-status] [14885] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:07:09.885Z] [runtime-status] [14885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:10.020Z] [runtime-status] [14885] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:07:10.020Z] [runtime-status] [14885] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:07:10.021Z] [runtime-status] [14885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:10.023Z] [runtime-status] [14885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:10.023Z] [runtime-status] [14885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:10.024Z] [runtime-status] [14885] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14885] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:07:10.051Z] [worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: exited"}}
[debug] [2020-12-28T20:07:10.051Z] [worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cba06874-d194-48fc-abbe-58fea1925aff]: FINISHED"}}
[debug] [2020-12-28T20:07:19.067Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2020-12-28T20:07:19.067Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2020-12-28T20:07:19.068Z] Accepted request GET /clone-df399/us-central1/api/payments/create --> api
[debug] [2020-12-28T20:07:19.068Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:07:19.074Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:07:19.075Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:07:19.075Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:07:19.075Z] [worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14886.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14886.sock"}}
[debug] [2020-12-28T20:07:19.075Z] [worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: BUSY"}}
[debug] [2020-12-28T20:07:19.365Z] [runtime-status] [14886] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:07:19.369Z] [runtime-status] [14886] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:07:19.375Z] [runtime-status] [14886] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.377Z] [runtime-status] [14886] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.378Z] [runtime-status] [14886] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.384Z] [runtime-status] [14886] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:07:19.385Z] [runtime-status] [14886] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.444Z] [runtime-status] [14886] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:07:19.444Z] [runtime-status] [14886] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:07:19.445Z] [runtime-status] [14886] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.445Z] [runtime-status] [14886] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.446Z] [runtime-status] [14886] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:07:19.446Z] [runtime-status] [14886] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14886] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:07:19.468Z] [worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: exited"}}
[debug] [2020-12-28T20:07:19.468Z] [worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d62fadd-f0f0-4ef0-9e88-399769f6e70e]: FINISHED"}}
[debug] [2020-12-28T20:12:33.530Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2020-12-28T20:12:33.533Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2020-12-28T20:12:33.533Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=5946 --> api
[debug] [2020-12-28T20:12:33.534Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:12:33.544Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:12:33.545Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:12:33.545Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:12:33.545Z] [worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14913.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14913.sock"}}
[debug] [2020-12-28T20:12:33.545Z] [worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: BUSY"}}
[debug] [2020-12-28T20:12:34.039Z] [runtime-status] [14913] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:12:34.043Z] [runtime-status] [14913] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:12:34.049Z] [runtime-status] [14913] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.051Z] [runtime-status] [14913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.052Z] [runtime-status] [14913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.056Z] [runtime-status] [14913] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:12:34.057Z] [runtime-status] [14913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.180Z] [runtime-status] [14913] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:12:34.180Z] [runtime-status] [14913] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:12:34.181Z] [runtime-status] [14913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.183Z] [runtime-status] [14913] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.183Z] [runtime-status] [14913] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:34.184Z] [runtime-status] [14913] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14913] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:12:34.210Z] [worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: exited"}}
[debug] [2020-12-28T20:12:34.210Z] [worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a14e8c60-5738-448f-8f13-e0e815e6247e]: FINISHED"}}
[debug] [2020-12-28T20:12:38.991Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2020-12-28T20:12:38.992Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2020-12-28T20:12:38.992Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=7445 --> api
[debug] [2020-12-28T20:12:38.992Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:12:38.999Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:12:39.000Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:12:39.000Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:12:39.001Z] [worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14915.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14915.sock"}}
[debug] [2020-12-28T20:12:39.001Z] [worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: BUSY"}}
[debug] [2020-12-28T20:12:39.399Z] [runtime-status] [14915] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:12:39.402Z] [runtime-status] [14915] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:12:39.406Z] [runtime-status] [14915] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.408Z] [runtime-status] [14915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.409Z] [runtime-status] [14915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.414Z] [runtime-status] [14915] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:12:39.415Z] [runtime-status] [14915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.467Z] [runtime-status] [14915] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:12:39.467Z] [runtime-status] [14915] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:12:39.468Z] [runtime-status] [14915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.469Z] [runtime-status] [14915] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.470Z] [runtime-status] [14915] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:39.471Z] [runtime-status] [14915] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14915] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:12:39.493Z] [worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: exited"}}
[debug] [2020-12-28T20:12:39.493Z] [worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0612784c-d115-4fdf-9678-29a38d46dcf0]: FINISHED"}}
[debug] [2020-12-28T20:12:46.934Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2020-12-28T20:12:46.934Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2020-12-28T20:12:46.935Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=7445 --> api
[debug] [2020-12-28T20:12:46.935Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:12:46.944Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:12:46.944Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:12:46.945Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:12:46.945Z] [worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14916.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14916.sock"}}
[debug] [2020-12-28T20:12:46.945Z] [worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: BUSY"}}
[debug] [2020-12-28T20:12:47.340Z] [runtime-status] [14916] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:12:47.344Z] [runtime-status] [14916] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:12:47.349Z] [runtime-status] [14916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.352Z] [runtime-status] [14916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.354Z] [runtime-status] [14916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.364Z] [runtime-status] [14916] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:12:47.365Z] [runtime-status] [14916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.446Z] [runtime-status] [14916] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:12:47.446Z] [runtime-status] [14916] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:12:47.447Z] [runtime-status] [14916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.448Z] [runtime-status] [14916] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.448Z] [runtime-status] [14916] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:12:47.449Z] [runtime-status] [14916] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14916] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:12:47.487Z] [worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: exited"}}
[debug] [2020-12-28T20:12:47.487Z] [worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b1b7d3af-ffe2-4479-96d9-703253bbbe7e]: FINISHED"}}
[debug] [2020-12-28T20:13:05.492Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2020-12-28T20:13:05.493Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2020-12-28T20:13:05.493Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=7445 --> api
[debug] [2020-12-28T20:13:05.493Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:13:05.499Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:13:05.499Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:13:05.499Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:13:05.499Z] [worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14919.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14919.sock"}}
[debug] [2020-12-28T20:13:05.500Z] [worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: BUSY"}}
[debug] [2020-12-28T20:13:05.937Z] [runtime-status] [14919] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:13:05.941Z] [runtime-status] [14919] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:13:05.946Z] [runtime-status] [14919] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:05.949Z] [runtime-status] [14919] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:05.950Z] [runtime-status] [14919] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:05.955Z] [runtime-status] [14919] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:13:05.956Z] [runtime-status] [14919] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:06.073Z] [runtime-status] [14919] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:13:06.073Z] [runtime-status] [14919] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:13:06.074Z] [runtime-status] [14919] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:06.075Z] [runtime-status] [14919] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:06.076Z] [runtime-status] [14919] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:06.076Z] [runtime-status] [14919] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14919] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:13:06.097Z] [worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: exited"}}
[debug] [2020-12-28T20:13:06.097Z] [worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e63d413b-e6b9-47b1-9bac-4f20befe4fdb]: FINISHED"}}
[debug] [2020-12-28T20:13:08.685Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2020-12-28T20:13:08.685Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2020-12-28T20:13:08.685Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:13:08.685Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:13:08.695Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:13:08.696Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:13:08.696Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:13:08.696Z] [worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14920.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14920.sock"}}
[debug] [2020-12-28T20:13:08.696Z] [worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: BUSY"}}
[debug] [2020-12-28T20:13:09.647Z] [runtime-status] [14920] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:13:09.650Z] [runtime-status] [14920] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:13:09.656Z] [runtime-status] [14920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.659Z] [runtime-status] [14920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.661Z] [runtime-status] [14920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.668Z] [runtime-status] [14920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:13:09.672Z] [runtime-status] [14920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.912Z] [runtime-status] [14920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:13:09.913Z] [runtime-status] [14920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:13:09.915Z] [runtime-status] [14920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.917Z] [runtime-status] [14920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.918Z] [runtime-status] [14920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:09.918Z] [runtime-status] [14920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:13:09.993Z] [worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: exited"}}
[debug] [2020-12-28T20:13:09.993Z] [worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42fa0361-910b-48db-8844-c1376bfc0dc5]: FINISHED"}}
[debug] [2020-12-28T20:13:15.491Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2020-12-28T20:13:15.492Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2020-12-28T20:13:15.492Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:13:15.492Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:13:15.502Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:13:15.503Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:13:15.503Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:13:15.503Z] [worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14921.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14921.sock"}}
[debug] [2020-12-28T20:13:15.503Z] [worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: BUSY"}}
[debug] [2020-12-28T20:13:15.922Z] [runtime-status] [14921] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:13:15.925Z] [runtime-status] [14921] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:13:15.930Z] [runtime-status] [14921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:15.932Z] [runtime-status] [14921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:15.933Z] [runtime-status] [14921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:15.939Z] [runtime-status] [14921] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:13:15.940Z] [runtime-status] [14921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:16.006Z] [runtime-status] [14921] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:13:16.007Z] [runtime-status] [14921] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:13:16.008Z] [runtime-status] [14921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:16.009Z] [runtime-status] [14921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:16.010Z] [runtime-status] [14921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:13:16.010Z] [runtime-status] [14921] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14921] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:13:16.035Z] [worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: exited"}}
[debug] [2020-12-28T20:13:16.036Z] [worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ad3ac3a7-39fb-45b5-9dac-3511b6c5734c]: FINISHED"}}
[debug] [2020-12-28T20:16:03.427Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:16:04.436Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:16:04.449Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:16:04.450Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:16:04.450Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:16:04.450Z] [worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14941.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14941.sock"}}
[debug] [2020-12-28T20:16:04.451Z] [worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: BUSY"}}
[debug] [2020-12-28T20:16:04.959Z] [runtime-status] [14941] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:16:04.962Z] [runtime-status] [14941] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:16:04.967Z] [runtime-status] [14941] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:04.969Z] [runtime-status] [14941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:04.970Z] [runtime-status] [14941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:04.975Z] [runtime-status] [14941] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:16:04.975Z] [runtime-status] [14941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:05.075Z] [runtime-status] [14941] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:16:05.075Z] [runtime-status] [14941] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:16:05.076Z] [runtime-status] [14941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:05.077Z] [runtime-status] [14941] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:05.077Z] [runtime-status] [14941] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:16:05.077Z] [runtime-status] [14941] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14941] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:16:05.103Z] [worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: exited"}}
[debug] [2020-12-28T20:16:05.103Z] [worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0fb0b53f-0b6c-40e7-8c2c-7501064fd85c]: FINISHED"}}
[debug] [2020-12-28T20:17:14.731Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2020-12-28T20:17:14.731Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2020-12-28T20:17:14.731Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:17:14.732Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:17:14.740Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:17:14.741Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:17:14.744Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:17:14.745Z] [worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14944.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14944.sock"}}
[debug] [2020-12-28T20:17:14.745Z] [worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: BUSY"}}
[debug] [2020-12-28T20:17:15.242Z] [runtime-status] [14944] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:17:15.245Z] [runtime-status] [14944] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:17:15.250Z] [runtime-status] [14944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.252Z] [runtime-status] [14944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.253Z] [runtime-status] [14944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.258Z] [runtime-status] [14944] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:17:15.258Z] [runtime-status] [14944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.316Z] [runtime-status] [14944] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:17:15.316Z] [runtime-status] [14944] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:17:15.316Z] [runtime-status] [14944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.317Z] [runtime-status] [14944] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.318Z] [runtime-status] [14944] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:15.318Z] [runtime-status] [14944] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14944] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:17:15.339Z] [worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: exited"}}
[debug] [2020-12-28T20:17:15.340Z] [worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-619ff898-0e24-4522-aedf-cba3348b0586]: FINISHED"}}
[debug] [2020-12-28T20:17:28.695Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:17:29.699Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:17:29.706Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:17:29.706Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:17:29.706Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:17:29.706Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14945.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14945.sock"}}
[debug] [2020-12-28T20:17:29.706Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: BUSY"}}
[debug] [2020-12-28T20:17:29.986Z] [runtime-status] [14945] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:17:29.988Z] [runtime-status] [14945] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:17:29.993Z] [runtime-status] [14945] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:29.995Z] [runtime-status] [14945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:29.996Z] [runtime-status] [14945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:30.003Z] [runtime-status] [14945] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:17:30.004Z] [runtime-status] [14945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:30.053Z] [runtime-status] [14945] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:17:30.053Z] [runtime-status] [14945] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:17:30.054Z] [runtime-status] [14945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:30.055Z] [runtime-status] [14945] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:30.056Z] [runtime-status] [14945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:30.056Z] [runtime-status] [14945] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14945] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:17:30.350Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: IDLE"}}
[debug] [2020-12-28T20:17:35.460Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2020-12-28T20:17:35.460Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2020-12-28T20:17:35.460Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:17:35.465Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:17:35.465Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:17:35.465Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:17:35.465Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:35.466Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY"}}
[debug] [2020-12-28T20:17:35.733Z] [runtime-status] [14947] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:17:35.736Z] [runtime-status] [14947] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:17:35.741Z] [runtime-status] [14947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.742Z] [runtime-status] [14947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.744Z] [runtime-status] [14947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.749Z] [runtime-status] [14947] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:17:35.750Z] [runtime-status] [14947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.804Z] [runtime-status] [14947] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:17:35.805Z] [runtime-status] [14947] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:17:35.806Z] [runtime-status] [14947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.807Z] [runtime-status] [14947] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.808Z] [runtime-status] [14947] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:17:35.808Z] [runtime-status] [14947] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:17:35.936Z] [runtime-status] [14947] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:17:35.937Z] [runtime-status] [14947] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:17:35.937Z] [runtime-status] [14947] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:17:35.943Z] [runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:35.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:17:35.966Z] [runtime-status] [14947] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:17:35.981Z] [runtime-status] [14947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:17:35.984Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE"}}
[debug] [2020-12-28T20:17:35.985Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2020-12-28T20:17:40.662Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2020-12-28T20:17:40.663Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2020-12-28T20:17:40.663Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:17:40.663Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:17:40.663Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:40.663Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY"}}
[debug] [2020-12-28T20:17:40.664Z] [runtime-status] [14947] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:17:40.665Z] [runtime-status] [14947] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:17:40.665Z] [runtime-status] [14947] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:17:40.665Z] [runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:40.667Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:17:40.674Z] [runtime-status] [14947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:17:40.679Z] [runtime-status] [14947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:17:40.680Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE"}}
[debug] [2020-12-28T20:17:40.680Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2020-12-28T20:17:44.880Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2020-12-28T20:17:44.880Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2020-12-28T20:17:44.880Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:17:44.881Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:17:44.881Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:44.881Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: BUSY"}}
[debug] [2020-12-28T20:17:44.883Z] [runtime-status] [14947] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:17:44.884Z] [runtime-status] [14947] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:17:44.884Z] [runtime-status] [14947] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:17:44.885Z] [runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14947.sock"}}
[debug] [2020-12-28T20:17:44.887Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:17:44.895Z] [runtime-status] [14947] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:17:44.898Z] [runtime-status] [14947] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14947] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:17:44.900Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: IDLE"}}
[debug] [2020-12-28T20:17:44.900Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2020-12-28T20:18:47.814Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:18:48.819Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:18:48.820Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: FINISHING"}}
[debug] [2020-12-28T20:18:48.820Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-12-28T20:18:48.820Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: FINISHING"}}
[debug] [2020-12-28T20:18:48.828Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:18:48.828Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:18:48.828Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:18:48.829Z] [worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14957.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14957.sock"}}
[debug] [2020-12-28T20:18:48.829Z] [worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: BUSY"}}
[debug] [2020-12-28T20:18:48.833Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: exited"}}
[debug] [2020-12-28T20:18:48.833Z] [worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-76d9edcf-5a85-4a42-9a6a-65fef2db4d7f]: FINISHED"}}
[debug] [2020-12-28T20:18:48.835Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: exited"}}
[debug] [2020-12-28T20:18:48.835Z] [worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3cd21050-8ff3-49b6-9118-206d356ae629]: FINISHED"}}
[debug] [2020-12-28T20:18:49.395Z] [runtime-status] [14957] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:18:49.401Z] [runtime-status] [14957] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:18:49.407Z] [runtime-status] [14957] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.410Z] [runtime-status] [14957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.411Z] [runtime-status] [14957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.419Z] [runtime-status] [14957] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:18:49.420Z] [runtime-status] [14957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.542Z] [runtime-status] [14957] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:18:49.543Z] [runtime-status] [14957] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:18:49.544Z] [runtime-status] [14957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.545Z] [runtime-status] [14957] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.546Z] [runtime-status] [14957] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:18:49.546Z] [runtime-status] [14957] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14957] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:18:49.571Z] [worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: exited"}}
[debug] [2020-12-28T20:18:49.571Z] [worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b10de60b-3934-4e5a-be35-8ab30e683d81]: FINISHED"}}
[debug] [2020-12-28T20:20:33.164Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2020-12-28T20:20:33.165Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2020-12-28T20:20:33.165Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:20:33.165Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2020-12-28T20:20:33.165Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:20:33.171Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:20:33.171Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:20:33.171Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:20:33.171Z] [worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14965.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14965.sock"}}
[debug] [2020-12-28T20:20:33.171Z] [worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: BUSY"}}
[debug] [2020-12-28T20:20:33.603Z] [runtime-status] [14965] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:20:33.607Z] [runtime-status] [14965] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:20:33.613Z] [runtime-status] [14965] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.615Z] [runtime-status] [14965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.616Z] [runtime-status] [14965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.620Z] [runtime-status] [14965] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:20:33.621Z] [runtime-status] [14965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.727Z] [runtime-status] [14965] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:20:33.727Z] [runtime-status] [14965] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:20:33.728Z] [runtime-status] [14965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.729Z] [runtime-status] [14965] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.730Z] [runtime-status] [14965] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:20:33.730Z] [runtime-status] [14965] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14965] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:20:33.755Z] [worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: exited"}}
[debug] [2020-12-28T20:20:33.755Z] [worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5f214966-ece3-4d02-bc01-4dc6b0d219f2]: FINISHED"}}
[debug] [2020-12-28T20:21:20.571Z] [work-queue] {"queueLength":1,"workRunningCount":10}
[debug] [2020-12-28T20:21:20.572Z] [work-queue] {"queueLength":0,"workRunningCount":11}
[debug] [2020-12-28T20:21:20.572Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:21:20.572Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:21:20.576Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:21:20.576Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:21:20.576Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:21:20.577Z] [worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14972.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14972.sock"}}
[debug] [2020-12-28T20:21:20.577Z] [worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: BUSY"}}
[debug] [2020-12-28T20:21:21.005Z] [runtime-status] [14972] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:21:21.009Z] [runtime-status] [14972] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:21:21.014Z] [runtime-status] [14972] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.016Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.017Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.021Z] [runtime-status] [14972] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:21:21.022Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.120Z] [runtime-status] [14972] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:21:21.121Z] [runtime-status] [14972] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:21:21.121Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.122Z] [runtime-status] [14972] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.123Z] [runtime-status] [14972] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:21:21.123Z] [runtime-status] [14972] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14972] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:21:21.154Z] [worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: exited"}}
[debug] [2020-12-28T20:21:21.154Z] [worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a9bc480c-631f-4ca7-8607-19fae3d53e6b]: FINISHED"}}
[debug] [2020-12-28T20:22:06.078Z] [work-queue] {"queueLength":1,"workRunningCount":11}
[debug] [2020-12-28T20:22:06.078Z] [work-queue] {"queueLength":0,"workRunningCount":12}
[debug] [2020-12-28T20:22:06.079Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:22:06.079Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:22:06.086Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:22:06.086Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:22:06.087Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:22:06.087Z] [worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14974.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14974.sock"}}
[debug] [2020-12-28T20:22:06.087Z] [worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: BUSY"}}
[debug] [2020-12-28T20:22:07.012Z] [runtime-status] [14974] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:22:07.018Z] [runtime-status] [14974] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:22:07.026Z] [runtime-status] [14974] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.031Z] [runtime-status] [14974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.032Z] [runtime-status] [14974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.041Z] [runtime-status] [14974] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:22:07.042Z] [runtime-status] [14974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.195Z] [runtime-status] [14974] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:22:07.195Z] [runtime-status] [14974] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:22:07.196Z] [runtime-status] [14974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.198Z] [runtime-status] [14974] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.198Z] [runtime-status] [14974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:07.199Z] [runtime-status] [14974] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14974] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:22:07.232Z] [worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: exited"}}
[debug] [2020-12-28T20:22:07.232Z] [worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86ffedd7-639e-4d38-8c9f-c2da29f3e8f9]: FINISHED"}}
[debug] [2020-12-28T20:22:13.483Z] [work-queue] {"queueLength":1,"workRunningCount":12}
[debug] [2020-12-28T20:22:13.485Z] [work-queue] {"queueLength":0,"workRunningCount":13}
[debug] [2020-12-28T20:22:13.485Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T20:22:13.485Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:22:13.511Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:22:13.516Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:22:13.516Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:22:13.516Z] [worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14975.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14975.sock"}}
[debug] [2020-12-28T20:22:13.516Z] [worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: BUSY"}}
[debug] [2020-12-28T20:22:14.045Z] [runtime-status] [14975] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:22:14.050Z] [runtime-status] [14975] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:22:14.078Z] [runtime-status] [14975] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.087Z] [runtime-status] [14975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.089Z] [runtime-status] [14975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.095Z] [runtime-status] [14975] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:22:14.097Z] [runtime-status] [14975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.186Z] [runtime-status] [14975] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:22:14.187Z] [runtime-status] [14975] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:22:14.188Z] [runtime-status] [14975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.189Z] [runtime-status] [14975] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.189Z] [runtime-status] [14975] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:14.190Z] [runtime-status] [14975] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14975] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:22:14.220Z] [worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: exited"}}
[debug] [2020-12-28T20:22:14.220Z] [worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5273fe6b-5019-4287-b3dd-0a77c8d06d73]: FINISHED"}}
[debug] [2020-12-28T20:22:18.945Z] [work-queue] {"queueLength":1,"workRunningCount":13}
[debug] [2020-12-28T20:22:18.945Z] [work-queue] {"queueLength":0,"workRunningCount":14}
[debug] [2020-12-28T20:22:18.945Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:22:18.945Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:22:18.951Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:22:18.952Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:22:18.952Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:22:18.952Z] [worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14977.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14977.sock"}}
[debug] [2020-12-28T20:22:18.952Z] [worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: BUSY"}}
[debug] [2020-12-28T20:22:19.242Z] [runtime-status] [14977] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:22:19.246Z] [runtime-status] [14977] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:22:19.250Z] [runtime-status] [14977] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.252Z] [runtime-status] [14977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.254Z] [runtime-status] [14977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.261Z] [runtime-status] [14977] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:22:19.262Z] [runtime-status] [14977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.318Z] [runtime-status] [14977] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:22:19.318Z] [runtime-status] [14977] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:22:19.319Z] [runtime-status] [14977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.320Z] [runtime-status] [14977] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.320Z] [runtime-status] [14977] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:19.323Z] [runtime-status] [14977] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14977] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:22:19.342Z] [worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: exited"}}
[debug] [2020-12-28T20:22:19.342Z] [worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-13cab043-1a4c-4a98-9a1d-8c65f9e2ab9e]: FINISHED"}}
[debug] [2020-12-28T20:22:38.656Z] [work-queue] {"queueLength":1,"workRunningCount":14}
[debug] [2020-12-28T20:22:38.656Z] [work-queue] {"queueLength":0,"workRunningCount":15}
[debug] [2020-12-28T20:22:38.656Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:22:38.657Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:22:38.663Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:22:38.663Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:22:38.663Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:22:38.664Z] [worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14980.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14980.sock"}}
[debug] [2020-12-28T20:22:38.664Z] [worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: BUSY"}}
[debug] [2020-12-28T20:22:39.092Z] [runtime-status] [14980] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:22:39.094Z] [runtime-status] [14980] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:22:39.100Z] [runtime-status] [14980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.102Z] [runtime-status] [14980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.103Z] [runtime-status] [14980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.110Z] [runtime-status] [14980] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:22:39.111Z] [runtime-status] [14980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.211Z] [runtime-status] [14980] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:22:39.212Z] [runtime-status] [14980] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:22:39.212Z] [runtime-status] [14980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.213Z] [runtime-status] [14980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.214Z] [runtime-status] [14980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:22:39.214Z] [runtime-status] [14980] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14980] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:22:39.235Z] [worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: exited"}}
[debug] [2020-12-28T20:22:39.235Z] [worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a016df2f-b0fc-4066-8b72-0ab740a79747]: FINISHED"}}
[debug] [2020-12-28T20:24:38.666Z] [work-queue] {"queueLength":1,"workRunningCount":15}
[debug] [2020-12-28T20:24:38.667Z] [work-queue] {"queueLength":0,"workRunningCount":16}
[debug] [2020-12-28T20:24:38.667Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:24:38.667Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:24:38.683Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:24:38.683Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:24:38.683Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:24:38.683Z] [worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14983.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_14983.sock"}}
[debug] [2020-12-28T20:24:38.684Z] [worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: BUSY"}}
[debug] [2020-12-28T20:24:39.724Z] [runtime-status] [14983] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:24:39.727Z] [runtime-status] [14983] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:24:39.736Z] [runtime-status] [14983] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:39.739Z] [runtime-status] [14983] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:39.740Z] [runtime-status] [14983] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:39.783Z] [runtime-status] [14983] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:24:39.784Z] [runtime-status] [14983] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:40.069Z] [runtime-status] [14983] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:24:40.070Z] [runtime-status] [14983] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:24:40.073Z] [runtime-status] [14983] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:40.075Z] [runtime-status] [14983] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:40.076Z] [runtime-status] [14983] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:24:40.077Z] [runtime-status] [14983] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14983] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:24:40.135Z] [worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: exited"}}
[debug] [2020-12-28T20:24:40.136Z] [worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e9cf262-2805-4cd0-b91a-a2a6da416b48]: FINISHED"}}
[debug] [2020-12-28T20:25:04.381Z] [work-queue] {"queueLength":1,"workRunningCount":16}
[debug] [2020-12-28T20:25:04.381Z] [work-queue] {"queueLength":0,"workRunningCount":17}
[debug] [2020-12-28T20:25:04.381Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:25:04.381Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:25:04.387Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:25:04.388Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:25:04.388Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:25:04.388Z] [worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15008.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15008.sock"}}
[debug] [2020-12-28T20:25:04.388Z] [worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: BUSY"}}
[debug] [2020-12-28T20:25:04.779Z] [runtime-status] [15008] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:25:04.783Z] [runtime-status] [15008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:25:04.789Z] [runtime-status] [15008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.790Z] [runtime-status] [15008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.791Z] [runtime-status] [15008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.798Z] [runtime-status] [15008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:25:04.800Z] [runtime-status] [15008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.895Z] [runtime-status] [15008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:25:04.896Z] [runtime-status] [15008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:25:04.897Z] [runtime-status] [15008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.898Z] [runtime-status] [15008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.901Z] [runtime-status] [15008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:25:04.901Z] [runtime-status] [15008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:25:04.922Z] [worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: exited"}}
[debug] [2020-12-28T20:25:04.923Z] [worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04c5642e-630b-415e-af36-0a10ef1cd98a]: FINISHED"}}
[debug] [2020-12-28T20:27:04.387Z] [work-queue] {"queueLength":1,"workRunningCount":17}
[debug] [2020-12-28T20:27:04.387Z] [work-queue] {"queueLength":0,"workRunningCount":18}
[debug] [2020-12-28T20:27:04.387Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:27:04.388Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:27:04.396Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:27:04.396Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:27:04.397Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:27:04.397Z] [worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15027.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15027.sock"}}
[debug] [2020-12-28T20:27:04.397Z] [worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: BUSY"}}
[debug] [2020-12-28T20:27:04.848Z] [runtime-status] [15027] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:27:04.853Z] [runtime-status] [15027] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:27:04.869Z] [runtime-status] [15027] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:04.872Z] [runtime-status] [15027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:04.873Z] [runtime-status] [15027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:04.883Z] [runtime-status] [15027] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:27:04.883Z] [runtime-status] [15027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:05.076Z] [runtime-status] [15027] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:27:05.076Z] [runtime-status] [15027] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:27:05.077Z] [runtime-status] [15027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:05.079Z] [runtime-status] [15027] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:05.079Z] [runtime-status] [15027] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:05.079Z] [runtime-status] [15027] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15027] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:27:05.132Z] [worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: exited"}}
[debug] [2020-12-28T20:27:05.133Z] [worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd70f901-d306-43ce-96c1-c3456379933f]: FINISHED"}}
[debug] [2020-12-28T20:27:40.072Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:27:41.077Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:27:41.083Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:27:41.083Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:27:41.083Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:27:41.084Z] [worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15028.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15028.sock"}}
[debug] [2020-12-28T20:27:41.084Z] [worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: BUSY"}}
[debug] [2020-12-28T20:27:41.435Z] [runtime-status] [15028] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:27:41.439Z] [runtime-status] [15028] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:27:41.444Z] [runtime-status] [15028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.446Z] [runtime-status] [15028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.447Z] [runtime-status] [15028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.457Z] [runtime-status] [15028] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:27:41.457Z] [runtime-status] [15028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.541Z] [runtime-status] [15028] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:27:41.541Z] [runtime-status] [15028] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:27:41.542Z] [runtime-status] [15028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.547Z] [runtime-status] [15028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.548Z] [runtime-status] [15028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:27:41.548Z] [runtime-status] [15028] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15028] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:24
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:24\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:27:41.578Z] [worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: exited"}}
[debug] [2020-12-28T20:27:41.579Z] [worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8d16edc6-bea3-4cc3-affb-1df3bb09e475]: FINISHED"}}
[debug] [2020-12-28T20:28:21.652Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:28:22.653Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:28:22.663Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:28:22.664Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:28:22.665Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:28:22.665Z] [worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15031.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15031.sock"}}
[debug] [2020-12-28T20:28:22.665Z] [worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: BUSY"}}
[debug] [2020-12-28T20:28:23.113Z] [runtime-status] [15031] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:28:23.116Z] [runtime-status] [15031] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:28:23.121Z] [runtime-status] [15031] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.123Z] [runtime-status] [15031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.124Z] [runtime-status] [15031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.129Z] [runtime-status] [15031] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:28:23.129Z] [runtime-status] [15031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.243Z] [runtime-status] [15031] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:28:23.244Z] [runtime-status] [15031] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:28:23.245Z] [runtime-status] [15031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.246Z] [runtime-status] [15031] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.247Z] [runtime-status] [15031] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:28:23.247Z] [runtime-status] [15031] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15031] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:24
  const paymentIntent = await stripe.charges.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:24\n  const paymentIntent = await stripe.charges.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:28:23.269Z] [worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: exited"}}
[debug] [2020-12-28T20:28:23.270Z] [worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-499b83a7-8955-4981-a169-3a577ec4d040]: FINISHED"}}
[debug] [2020-12-28T20:32:40.022Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:32:41.030Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:32:41.044Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:32:41.046Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:32:41.046Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:32:41.047Z] [worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15058.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15058.sock"}}
[debug] [2020-12-28T20:32:41.048Z] [worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: BUSY"}}
[debug] [2020-12-28T20:32:41.651Z] [runtime-status] [15058] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:32:41.653Z] [runtime-status] [15058] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:32:41.658Z] [runtime-status] [15058] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.661Z] [runtime-status] [15058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.662Z] [runtime-status] [15058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.668Z] [runtime-status] [15058] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:32:41.668Z] [runtime-status] [15058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.757Z] [runtime-status] [15058] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:32:41.757Z] [runtime-status] [15058] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:32:41.758Z] [runtime-status] [15058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.759Z] [runtime-status] [15058] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.760Z] [runtime-status] [15058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:32:41.760Z] [runtime-status] [15058] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15058] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: "cad"})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: \"cad\"})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:32:41.786Z] [worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: exited"}}
[debug] [2020-12-28T20:32:41.786Z] [worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7aeb565f-9c2b-4f87-87d7-ce145c34c4c0]: FINISHED"}}
[debug] [2020-12-28T20:33:02.691Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:33:03.691Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:33:03.700Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:33:03.700Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:33:03.701Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:33:03.701Z] [worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15060.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15060.sock"}}
[debug] [2020-12-28T20:33:03.701Z] [worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: BUSY"}}
[debug] [2020-12-28T20:33:04.108Z] [runtime-status] [15060] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:33:04.111Z] [runtime-status] [15060] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:33:04.116Z] [runtime-status] [15060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.118Z] [runtime-status] [15060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.119Z] [runtime-status] [15060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.125Z] [runtime-status] [15060] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:33:04.125Z] [runtime-status] [15060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.247Z] [runtime-status] [15060] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:33:04.247Z] [runtime-status] [15060] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:33:04.248Z] [runtime-status] [15060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.248Z] [runtime-status] [15060] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.249Z] [runtime-status] [15060] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:04.249Z] [runtime-status] [15060] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15060] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: 'cad', payment_method_types: ['card']})
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({amount: total, currency: 'cad', payment_method_types: ['card']})\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:33:04.274Z] [worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: exited"}}
[debug] [2020-12-28T20:33:04.275Z] [worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2fbc7e1e-17f3-4524-98cd-65482d02c7e5]: FINISHED"}}
[debug] [2020-12-28T20:33:08.972Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:33:09.973Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:33:09.981Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:33:09.982Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:33:09.982Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:33:09.982Z] [worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15061.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15061.sock"}}
[debug] [2020-12-28T20:33:09.982Z] [worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: BUSY"}}
[debug] [2020-12-28T20:33:10.371Z] [runtime-status] [15061] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:33:10.377Z] [runtime-status] [15061] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:33:10.385Z] [runtime-status] [15061] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.387Z] [runtime-status] [15061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.388Z] [runtime-status] [15061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.396Z] [runtime-status] [15061] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:33:10.398Z] [runtime-status] [15061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.479Z] [runtime-status] [15061] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:33:10.480Z] [runtime-status] [15061] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:33:10.483Z] [runtime-status] [15061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.484Z] [runtime-status] [15061] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.486Z] [runtime-status] [15061] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:10.486Z] [runtime-status] [15061] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15061] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:33:10.517Z] [worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: exited"}}
[debug] [2020-12-28T20:33:10.517Z] [worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-986c338a-f1e1-4d0e-a4c0-ed962f8f69e9]: FINISHED"}}
[debug] [2020-12-28T20:33:14.834Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:33:15.837Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:33:15.844Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:33:15.845Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:33:15.845Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:33:15.846Z] [worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15062.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15062.sock"}}
[debug] [2020-12-28T20:33:15.846Z] [worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: BUSY"}}
[debug] [2020-12-28T20:33:16.097Z] [runtime-status] [15062] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:33:16.100Z] [runtime-status] [15062] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:33:16.104Z] [runtime-status] [15062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.105Z] [runtime-status] [15062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.106Z] [runtime-status] [15062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.110Z] [runtime-status] [15062] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:33:16.111Z] [runtime-status] [15062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.158Z] [runtime-status] [15062] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:33:16.159Z] [runtime-status] [15062] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:33:16.160Z] [runtime-status] [15062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.161Z] [runtime-status] [15062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.161Z] [runtime-status] [15062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:16.162Z] [runtime-status] [15062] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15062] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:33:16.187Z] [worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: exited"}}
[debug] [2020-12-28T20:33:16.187Z] [worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0986dd91-f0ac-402a-9256-1e55406f8131]: FINISHED"}}
[debug] [2020-12-28T20:33:21.408Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:33:22.410Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:33:22.416Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:33:22.417Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:33:22.417Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:33:22.417Z] [worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15063.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15063.sock"}}
[debug] [2020-12-28T20:33:22.417Z] [worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: BUSY"}}
[debug] [2020-12-28T20:33:22.689Z] [runtime-status] [15063] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:33:22.696Z] [runtime-status] [15063] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:33:22.704Z] [runtime-status] [15063] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.706Z] [runtime-status] [15063] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.707Z] [runtime-status] [15063] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.715Z] [runtime-status] [15063] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:33:22.716Z] [runtime-status] [15063] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.830Z] [runtime-status] [15063] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:33:22.831Z] [runtime-status] [15063] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:33:22.831Z] [runtime-status] [15063] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.832Z] [runtime-status] [15063] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.833Z] [runtime-status] [15063] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:33:22.833Z] [runtime-status] [15063] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15063] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:33:22.877Z] [worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: exited"}}
[debug] [2020-12-28T20:33:22.877Z] [worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9e375f9c-0475-4757-bfd0-df08fd4ff29f]: FINISHED"}}
[debug] [2020-12-28T20:34:32.395Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:34:33.401Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:34:33.408Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:34:33.408Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:34:33.409Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:34:33.409Z] [worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15069.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15069.sock"}}
[debug] [2020-12-28T20:34:33.409Z] [worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: BUSY"}}
[debug] [2020-12-28T20:34:34.027Z] [runtime-status] [15069] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:34:34.030Z] [runtime-status] [15069] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:34:34.035Z] [runtime-status] [15069] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.039Z] [runtime-status] [15069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.041Z] [runtime-status] [15069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.047Z] [runtime-status] [15069] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:34:34.048Z] [runtime-status] [15069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.218Z] [runtime-status] [15069] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:34:34.219Z] [runtime-status] [15069] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:34:34.221Z] [runtime-status] [15069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.224Z] [runtime-status] [15069] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.225Z] [runtime-status] [15069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:34.226Z] [runtime-status] [15069] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15069] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:34:34.270Z] [worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: exited"}}
[debug] [2020-12-28T20:34:34.270Z] [worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d6d1029c-b5f0-40a2-9ec6-38d972d05b6c]: FINISHED"}}
[debug] [2020-12-28T20:34:39.116Z] [work-queue] {"queueLength":1,"workRunningCount":18}
[debug] [2020-12-28T20:34:39.116Z] [work-queue] {"queueLength":0,"workRunningCount":19}
[debug] [2020-12-28T20:34:39.116Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T20:34:39.117Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:34:39.128Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:34:39.128Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:34:39.128Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:34:39.128Z] [worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15071.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15071.sock"}}
[debug] [2020-12-28T20:34:39.128Z] [worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: BUSY"}}
[debug] [2020-12-28T20:34:39.847Z] [runtime-status] [15071] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:34:39.852Z] [runtime-status] [15071] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:34:39.862Z] [runtime-status] [15071] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:39.865Z] [runtime-status] [15071] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:39.866Z] [runtime-status] [15071] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:39.872Z] [runtime-status] [15071] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:34:39.887Z] [runtime-status] [15071] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:40.037Z] [runtime-status] [15071] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:34:40.037Z] [runtime-status] [15071] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:34:40.038Z] [runtime-status] [15071] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:40.040Z] [runtime-status] [15071] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:40.041Z] [runtime-status] [15071] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:40.041Z] [runtime-status] [15071] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15071] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:34:40.066Z] [worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: exited"}}
[debug] [2020-12-28T20:34:40.066Z] [worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e9fac59-b2a3-4558-95c0-2c2f6e34122b]: FINISHED"}}
[debug] [2020-12-28T20:34:43.207Z] [work-queue] {"queueLength":1,"workRunningCount":19}
[debug] [2020-12-28T20:34:43.207Z] [work-queue] {"queueLength":0,"workRunningCount":20}
[debug] [2020-12-28T20:34:43.208Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:34:43.208Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:34:43.215Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:34:43.216Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:34:43.216Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:34:43.217Z] [worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15072.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15072.sock"}}
[debug] [2020-12-28T20:34:43.217Z] [worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: BUSY"}}
[debug] [2020-12-28T20:34:44.254Z] [runtime-status] [15072] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:34:44.262Z] [runtime-status] [15072] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:34:44.268Z] [runtime-status] [15072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.271Z] [runtime-status] [15072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.272Z] [runtime-status] [15072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.280Z] [runtime-status] [15072] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:34:44.282Z] [runtime-status] [15072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.404Z] [runtime-status] [15072] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:34:44.404Z] [runtime-status] [15072] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:34:44.427Z] [runtime-status] [15072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.433Z] [runtime-status] [15072] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.435Z] [runtime-status] [15072] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:44.435Z] [runtime-status] [15072] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15072] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:34:44.480Z] [worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: exited"}}
[debug] [2020-12-28T20:34:44.480Z] [worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d69242f7-eb2f-4529-95b9-95cfae45887c]: FINISHED"}}
[debug] [2020-12-28T20:34:48.361Z] [work-queue] {"queueLength":1,"workRunningCount":20}
[debug] [2020-12-28T20:34:48.361Z] [work-queue] {"queueLength":0,"workRunningCount":21}
[debug] [2020-12-28T20:34:48.361Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:34:48.362Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:34:48.374Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:34:48.375Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:34:48.375Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:34:48.375Z] [worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15073.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15073.sock"}}
[debug] [2020-12-28T20:34:48.376Z] [worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: BUSY"}}
[debug] [2020-12-28T20:34:48.861Z] [runtime-status] [15073] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:34:48.865Z] [runtime-status] [15073] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:34:48.869Z] [runtime-status] [15073] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.870Z] [runtime-status] [15073] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.872Z] [runtime-status] [15073] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.880Z] [runtime-status] [15073] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:34:48.881Z] [runtime-status] [15073] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.942Z] [runtime-status] [15073] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:34:48.942Z] [runtime-status] [15073] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:34:48.944Z] [runtime-status] [15073] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.947Z] [runtime-status] [15073] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.947Z] [runtime-status] [15073] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:48.948Z] [runtime-status] [15073] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15073] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:34:48.970Z] [worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: exited"}}
[debug] [2020-12-28T20:34:48.971Z] [worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-613212d8-66ad-44e2-a9d8-8c3c92bc14e3]: FINISHED"}}
[debug] [2020-12-28T20:34:53.256Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:34:54.258Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:34:54.264Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:34:54.264Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:34:54.264Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:34:54.265Z] [worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15076.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15076.sock"}}
[debug] [2020-12-28T20:34:54.265Z] [worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: BUSY"}}
[debug] [2020-12-28T20:34:54.519Z] [runtime-status] [15076] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:34:54.522Z] [runtime-status] [15076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:34:54.528Z] [runtime-status] [15076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.530Z] [runtime-status] [15076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.531Z] [runtime-status] [15076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.536Z] [runtime-status] [15076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:34:54.537Z] [runtime-status] [15076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.586Z] [runtime-status] [15076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:34:54.586Z] [runtime-status] [15076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:34:54.587Z] [runtime-status] [15076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.588Z] [runtime-status] [15076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.588Z] [runtime-status] [15076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:34:54.588Z] [runtime-status] [15076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:34:54.612Z] [worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: exited"}}
[debug] [2020-12-28T20:34:54.613Z] [worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-24dc88fc-39c8-4034-9712-8ef127db3f6a]: FINISHED"}}
[debug] [2020-12-28T20:35:02.950Z] [work-queue] {"queueLength":1,"workRunningCount":21}
[debug] [2020-12-28T20:35:02.950Z] [work-queue] {"queueLength":0,"workRunningCount":22}
[debug] [2020-12-28T20:35:02.950Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:35:02.950Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:35:02.957Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:35:02.957Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:35:02.957Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:35:02.958Z] [worker-api-98f97617-2058-4a49-a29e-0376738f0835]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15078.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-98f97617-2058-4a49-a29e-0376738f0835]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15078.sock"}}
[debug] [2020-12-28T20:35:02.958Z] [worker-api-98f97617-2058-4a49-a29e-0376738f0835]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-98f97617-2058-4a49-a29e-0376738f0835]: BUSY"}}
[debug] [2020-12-28T20:35:03.267Z] [runtime-status] [15078] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:35:03.270Z] [runtime-status] [15078] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:35:03.277Z] [runtime-status] [15078] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.279Z] [runtime-status] [15078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.280Z] [runtime-status] [15078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.287Z] [runtime-status] [15078] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:35:03.288Z] [runtime-status] [15078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.353Z] [runtime-status] [15078] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:35:03.353Z] [runtime-status] [15078] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:35:03.354Z] [runtime-status] [15078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.357Z] [runtime-status] [15078] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.357Z] [runtime-status] [15078] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:03.359Z] [runtime-status] [15078] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15078] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:35:03.394Z] [worker-api-98f97617-2058-4a49-a29e-0376738f0835]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-98f97617-2058-4a49-a29e-0376738f0835]: exited"}}
[debug] [2020-12-28T20:35:03.395Z] [worker-api-98f97617-2058-4a49-a29e-0376738f0835]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-98f97617-2058-4a49-a29e-0376738f0835]: FINISHED"}}
[debug] [2020-12-28T20:35:04.762Z] [work-queue] {"queueLength":1,"workRunningCount":22}
[debug] [2020-12-28T20:35:04.762Z] [work-queue] {"queueLength":0,"workRunningCount":23}
[debug] [2020-12-28T20:35:04.763Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:35:04.763Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:35:04.769Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:35:04.769Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:35:04.769Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:35:04.769Z] [worker-api-a002d778-5a51-4584-b008-72421b72587f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15080.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a002d778-5a51-4584-b008-72421b72587f]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15080.sock"}}
[debug] [2020-12-28T20:35:04.770Z] [worker-api-a002d778-5a51-4584-b008-72421b72587f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a002d778-5a51-4584-b008-72421b72587f]: BUSY"}}
[debug] [2020-12-28T20:35:05.050Z] [runtime-status] [15080] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:35:05.053Z] [runtime-status] [15080] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:35:05.058Z] [runtime-status] [15080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.060Z] [runtime-status] [15080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.061Z] [runtime-status] [15080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.065Z] [runtime-status] [15080] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:35:05.066Z] [runtime-status] [15080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.116Z] [runtime-status] [15080] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:35:05.116Z] [runtime-status] [15080] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:35:05.117Z] [runtime-status] [15080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.118Z] [runtime-status] [15080] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.119Z] [runtime-status] [15080] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:05.119Z] [runtime-status] [15080] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15080] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:35:05.144Z] [worker-api-a002d778-5a51-4584-b008-72421b72587f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a002d778-5a51-4584-b008-72421b72587f]: exited"}}
[debug] [2020-12-28T20:35:05.144Z] [worker-api-a002d778-5a51-4584-b008-72421b72587f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a002d778-5a51-4584-b008-72421b72587f]: FINISHED"}}
[debug] [2020-12-28T20:35:20.839Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:35:21.841Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:35:21.847Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:35:21.848Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:35:21.848Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:35:21.848Z] [worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15083.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15083.sock"}}
[debug] [2020-12-28T20:35:21.848Z] [worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: BUSY"}}
[debug] [2020-12-28T20:35:22.216Z] [runtime-status] [15083] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:35:22.218Z] [runtime-status] [15083] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:35:22.224Z] [runtime-status] [15083] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.226Z] [runtime-status] [15083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.228Z] [runtime-status] [15083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.235Z] [runtime-status] [15083] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:35:22.236Z] [runtime-status] [15083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.339Z] [runtime-status] [15083] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:35:22.340Z] [runtime-status] [15083] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:35:22.344Z] [runtime-status] [15083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.344Z] [runtime-status] [15083] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.347Z] [runtime-status] [15083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:22.347Z] [runtime-status] [15083] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15083] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:35:22.372Z] [worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: exited"}}
[debug] [2020-12-28T20:35:22.373Z] [worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-dce30f00-319f-4a8a-a23d-a69f62ad92c2]: FINISHED"}}
[debug] [2020-12-28T20:35:34.759Z] [work-queue] {"queueLength":1,"workRunningCount":23}
[debug] [2020-12-28T20:35:34.759Z] [work-queue] {"queueLength":0,"workRunningCount":24}
[debug] [2020-12-28T20:35:34.759Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:35:34.759Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:35:34.766Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:35:34.766Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:35:34.770Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:35:34.770Z] [worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15086.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15086.sock"}}
[debug] [2020-12-28T20:35:34.770Z] [worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: BUSY"}}
[debug] [2020-12-28T20:35:35.158Z] [runtime-status] [15086] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:35:35.161Z] [runtime-status] [15086] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:35:35.165Z] [runtime-status] [15086] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.167Z] [runtime-status] [15086] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.168Z] [runtime-status] [15086] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.173Z] [runtime-status] [15086] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:35:35.173Z] [runtime-status] [15086] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.227Z] [runtime-status] [15086] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:35:35.227Z] [runtime-status] [15086] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:35:35.228Z] [runtime-status] [15086] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.229Z] [runtime-status] [15086] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.230Z] [runtime-status] [15086] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:35:35.230Z] [runtime-status] [15086] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15086] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:35:35.253Z] [worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: exited"}}
[debug] [2020-12-28T20:35:35.253Z] [worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99855262-2c5d-47bd-8987-f746ff28bd21]: FINISHED"}}
[debug] [2020-12-28T20:36:33.977Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:36:34.979Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:36:34.985Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:36:34.986Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:36:34.986Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:36:34.986Z] [worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15099.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15099.sock"}}
[debug] [2020-12-28T20:36:34.986Z] [worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: BUSY"}}
[debug] [2020-12-28T20:36:35.636Z] [runtime-status] [15099] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:36:35.639Z] [runtime-status] [15099] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:36:35.645Z] [runtime-status] [15099] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.647Z] [runtime-status] [15099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.649Z] [runtime-status] [15099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.656Z] [runtime-status] [15099] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:36:35.657Z] [runtime-status] [15099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.765Z] [runtime-status] [15099] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:36:35.765Z] [runtime-status] [15099] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:36:35.767Z] [runtime-status] [15099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.768Z] [runtime-status] [15099] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.768Z] [runtime-status] [15099] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:35.769Z] [runtime-status] [15099] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15099] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2020-12-28T20:36:35.794Z] [worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: exited"}}
[debug] [2020-12-28T20:36:35.794Z] [worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-999f0795-3e47-41df-827d-e2799e775a9b]: FINISHED"}}
[debug] [2020-12-28T20:36:38.937Z] [work-queue] {"queueLength":1,"workRunningCount":24}
[debug] [2020-12-28T20:36:38.938Z] [work-queue] {"queueLength":0,"workRunningCount":25}
[debug] [2020-12-28T20:36:38.938Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:36:38.938Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2020-12-28T20:36:38.942Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:36:38.942Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:36:38.942Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:36:38.943Z] [worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15100.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15100.sock"}}
[debug] [2020-12-28T20:36:38.943Z] [worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: BUSY"}}
[debug] [2020-12-28T20:36:39.214Z] [runtime-status] [15100] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:36:39.217Z] [runtime-status] [15100] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:36:39.220Z] [runtime-status] [15100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.222Z] [runtime-status] [15100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.222Z] [runtime-status] [15100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.228Z] [runtime-status] [15100] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:36:39.228Z] [runtime-status] [15100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.284Z] [runtime-status] [15100] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:36:39.284Z] [runtime-status] [15100] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:36:39.285Z] [runtime-status] [15100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.286Z] [runtime-status] [15100] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.286Z] [runtime-status] [15100] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:39.286Z] [runtime-status] [15100] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15100] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:36:39.309Z] [worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: exited"}}
[debug] [2020-12-28T20:36:39.309Z] [worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002e9687-ee5e-4381-a74c-d559ea793516]: FINISHED"}}
[debug] [2020-12-28T20:36:49.460Z] [work-queue] {"queueLength":1,"workRunningCount":25}
[debug] [2020-12-28T20:36:49.460Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:36:49.460Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:36:49.460Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:36:49.467Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:36:49.468Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:36:49.468Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:36:49.468Z] [worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15101.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15101.sock"}}
[debug] [2020-12-28T20:36:49.468Z] [worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: BUSY"}}
[debug] [2020-12-28T20:36:50.071Z] [runtime-status] [15101] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:36:50.073Z] [runtime-status] [15101] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:36:50.080Z] [runtime-status] [15101] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.083Z] [runtime-status] [15101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.084Z] [runtime-status] [15101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.090Z] [runtime-status] [15101] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:36:50.090Z] [runtime-status] [15101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.258Z] [runtime-status] [15101] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:36:50.259Z] [runtime-status] [15101] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:36:50.262Z] [runtime-status] [15101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.262Z] [runtime-status] [15101] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.262Z] [runtime-status] [15101] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:36:50.263Z] [runtime-status] [15101] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15101] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23
  const paymentIntent = await stripe.paymentIntents.create({
                        ^^^^^

SyntaxError: await is only valid in async function
    at Module._compile (internal/modules/cjs/loader.js:723:23)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)
    at Module.load (internal/modules/cjs/loader.js:653:32)
    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)
    at Function.Module._load (internal/modules/cjs/loader.js:585:3)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)
    at process._tickCallback (internal/process/next_tick.js:68:7) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23\n  const paymentIntent = await stripe.paymentIntents.create({\n                        ^^^^^\n\nSyntaxError: await is only valid in async function\n    at Module._compile (internal/modules/cjs/loader.js:723:23)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:692:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at initializeRuntime (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:674:29)\n    at process._tickCallback (internal/process/next_tick.js:68:7)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"}}}
[debug] [2020-12-28T20:36:50.313Z] [worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: exited"}}
[debug] [2020-12-28T20:36:50.314Z] [worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e95ad61f-b049-4a28-a6f1-d1f78fe4cb37]: FINISHED"}}
[debug] [2020-12-28T20:37:21.365Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:37:22.367Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:37:22.373Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:37:22.374Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2020-12-28T20:37:22.374Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:37:22.374Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15103.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15103.sock"}}
[debug] [2020-12-28T20:37:22.374Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: BUSY"}}
[debug] [2020-12-28T20:37:22.837Z] [runtime-status] [15103] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:37:22.840Z] [runtime-status] [15103] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:37:22.846Z] [runtime-status] [15103] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.849Z] [runtime-status] [15103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.850Z] [runtime-status] [15103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.856Z] [runtime-status] [15103] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:37:22.856Z] [runtime-status] [15103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.977Z] [runtime-status] [15103] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:37:22.977Z] [runtime-status] [15103] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:22.979Z] [runtime-status] [15103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.980Z] [runtime-status] [15103] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.980Z] [runtime-status] [15103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:22.981Z] [runtime-status] [15103] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15103] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:23.262Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: IDLE"}}
[debug] [2020-12-28T20:37:27.348Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:37:27.348Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:37:27.348Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:37:27.353Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:37:27.354Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:37:27.354Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:37:27.354Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock"}}
[debug] [2020-12-28T20:37:27.354Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: BUSY"}}
[debug] [2020-12-28T20:37:27.629Z] [runtime-status] [15104] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:37:27.632Z] [runtime-status] [15104] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:37:27.637Z] [runtime-status] [15104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.638Z] [runtime-status] [15104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.639Z] [runtime-status] [15104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.645Z] [runtime-status] [15104] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:37:27.645Z] [runtime-status] [15104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.695Z] [runtime-status] [15104] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:37:27.696Z] [runtime-status] [15104] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:27.697Z] [runtime-status] [15104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.698Z] [runtime-status] [15104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.699Z] [runtime-status] [15104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:27.699Z] [runtime-status] [15104] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:27.822Z] [runtime-status] [15104] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:37:27.823Z] [runtime-status] [15104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:37:27.823Z] [runtime-status] [15104] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:37:27.829Z] [runtime-status] [15104] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock"}}
[debug] [2020-12-28T20:37:27.841Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:37:27.852Z] [runtime-status] [15104] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:37:27.866Z] [runtime-status] [15104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:37:27.871Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: IDLE"}}
[debug] [2020-12-28T20:37:27.871Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:37:32.184Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:37:32.185Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:37:32.185Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:37:32.185Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:37:32.185Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock"}}
[debug] [2020-12-28T20:37:32.185Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: BUSY"}}
[debug] [2020-12-28T20:37:32.186Z] [runtime-status] [15104] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:37:32.188Z] [runtime-status] [15104] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:37:32.188Z] [runtime-status] [15104] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:37:32.189Z] [runtime-status] [15104] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15104.sock"}}
[debug] [2020-12-28T20:37:32.190Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:37:32.195Z] [runtime-status] [15104] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:37:32.197Z] [runtime-status] [15104] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15104] Ephemeral server survived."}}
[info] >  (node:15104) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15104) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15104) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15104) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15104) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15104) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15104) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15104) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15104) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:37:37.647Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:37:37.648Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:37:37.648Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T20:37:37.665Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:37:37.665Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:37:37.665Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:37:37.665Z] [worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15106.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15106.sock"}}
[debug] [2020-12-28T20:37:37.666Z] [worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: BUSY"}}
[debug] [2020-12-28T20:37:38.134Z] [runtime-status] [15106] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:37:38.138Z] [runtime-status] [15106] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:37:38.144Z] [runtime-status] [15106] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.146Z] [runtime-status] [15106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.147Z] [runtime-status] [15106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.153Z] [runtime-status] [15106] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:37:38.153Z] [runtime-status] [15106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.275Z] [runtime-status] [15106] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:37:38.276Z] [runtime-status] [15106] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:38.277Z] [runtime-status] [15106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.279Z] [runtime-status] [15106] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.280Z] [runtime-status] [15106] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:38.284Z] [runtime-status] [15106] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:38.544Z] [runtime-status] [15106] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:37:38.546Z] [runtime-status] [15106] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:37:38.546Z] [runtime-status] [15106] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:37:38.583Z] [runtime-status] [15106] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15106.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15106.sock"}}
[debug] [2020-12-28T20:37:38.596Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:37:38.611Z] [runtime-status] [15106] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:37:38.617Z] [runtime-status] [15106] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15106] Ephemeral server survived."}}
[info] >  (node:15106) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15106) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15106) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15106) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15106) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15106) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15106) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15106) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15106) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:37:46.739Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:37:46.739Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:37:46.739Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T20:37:46.751Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:37:46.751Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:37:46.751Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:37:46.751Z] [worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15108.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15108.sock"}}
[debug] [2020-12-28T20:37:46.752Z] [worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: BUSY"}}
[debug] [2020-12-28T20:37:47.263Z] [runtime-status] [15108] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:37:47.266Z] [runtime-status] [15108] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:37:47.271Z] [runtime-status] [15108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.273Z] [runtime-status] [15108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.274Z] [runtime-status] [15108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.280Z] [runtime-status] [15108] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:37:47.281Z] [runtime-status] [15108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.408Z] [runtime-status] [15108] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:37:47.408Z] [runtime-status] [15108] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:47.409Z] [runtime-status] [15108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.410Z] [runtime-status] [15108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.411Z] [runtime-status] [15108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:37:47.412Z] [runtime-status] [15108] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:37:47.710Z] [runtime-status] [15108] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:37:47.712Z] [runtime-status] [15108] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:37:47.712Z] [runtime-status] [15108] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:37:47.718Z] [runtime-status] [15108] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15108.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15108.sock"}}
[debug] [2020-12-28T20:37:47.731Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:37:47.743Z] [runtime-status] [15108] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:37:47.749Z] [runtime-status] [15108] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15108] Ephemeral server survived."}}
[info] >  (node:15108) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15108) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15108) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:38:32.206Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: exited"}}
[debug] [2020-12-28T20:38:32.207Z] [worker-api-0d65240f-135f-464b-8c2b-807c92946368]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0d65240f-135f-464b-8c2b-807c92946368]: FINISHED"}}
[debug] [2020-12-28T20:38:32.207Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:38:38.568Z] [worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: exited"}}
[debug] [2020-12-28T20:38:38.568Z] [worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0cf0f76a-4d88-43c1-92c5-da70c95fface]: FINISHED"}}
[debug] [2020-12-28T20:38:38.568Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:38:47.730Z] [worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: exited"}}
[debug] [2020-12-28T20:38:47.731Z] [worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-691e83ae-8944-4a65-9f11-61846bf9a943]: FINISHED"}}
[debug] [2020-12-28T20:38:47.731Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:38:56.715Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:38:56.715Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:38:56.715Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:38:56.715Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-12-28T20:38:56.725Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:38:56.726Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:38:56.726Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:38:56.726Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock"}}
[debug] [2020-12-28T20:38:56.726Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: BUSY"}}
[debug] [2020-12-28T20:38:57.218Z] [runtime-status] [15110] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:38:57.222Z] [runtime-status] [15110] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:38:57.229Z] [runtime-status] [15110] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.231Z] [runtime-status] [15110] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.232Z] [runtime-status] [15110] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.239Z] [runtime-status] [15110] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:38:57.240Z] [runtime-status] [15110] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.363Z] [runtime-status] [15110] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:38:57.364Z] [runtime-status] [15110] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:38:57.365Z] [runtime-status] [15110] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.365Z] [runtime-status] [15110] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.365Z] [runtime-status] [15110] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:38:57.366Z] [runtime-status] [15110] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:38:57.641Z] [runtime-status] [15110] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:38:57.642Z] [runtime-status] [15110] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:38:57.642Z] [runtime-status] [15110] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:38:57.649Z] [runtime-status] [15110] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock"}}
[debug] [2020-12-28T20:38:57.656Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:38:57.666Z] [runtime-status] [15110] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:38:57.677Z] [runtime-status] [15110] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:38:57.680Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: IDLE"}}
[debug] [2020-12-28T20:38:57.680Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:39:05.158Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:39:05.158Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:39:05.158Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:39:05.158Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:39:05.158Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock"}}
[debug] [2020-12-28T20:39:05.158Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: BUSY"}}
[debug] [2020-12-28T20:39:05.159Z] [runtime-status] [15110] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:39:05.160Z] [runtime-status] [15110] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:39:05.160Z] [runtime-status] [15110] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:39:05.163Z] [runtime-status] [15110] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15110.sock"}}
[debug] [2020-12-28T20:39:05.165Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:39:05.172Z] [runtime-status] [15110] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:39:05.174Z] [runtime-status] [15110] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15110] Ephemeral server survived."}}
[info] >  (node:15110) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15110) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15110) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15110) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15110) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15110) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15110) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15110) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15110) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:39:12.461Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:39:12.461Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:39:12.461Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:39:12.471Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:39:12.472Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:39:12.472Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:39:12.472Z] [worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15112.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15112.sock"}}
[debug] [2020-12-28T20:39:12.472Z] [worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: BUSY"}}
[debug] [2020-12-28T20:39:13.011Z] [runtime-status] [15112] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:39:13.013Z] [runtime-status] [15112] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:39:13.019Z] [runtime-status] [15112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.020Z] [runtime-status] [15112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.021Z] [runtime-status] [15112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.026Z] [runtime-status] [15112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:39:13.027Z] [runtime-status] [15112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.144Z] [runtime-status] [15112] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:39:13.144Z] [runtime-status] [15112] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:13.145Z] [runtime-status] [15112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.147Z] [runtime-status] [15112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.147Z] [runtime-status] [15112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:13.148Z] [runtime-status] [15112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:13.345Z] [runtime-status] [15112] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:39:13.347Z] [runtime-status] [15112] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:39:13.347Z] [runtime-status] [15112] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:39:13.353Z] [runtime-status] [15112] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15112.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15112.sock"}}
[debug] [2020-12-28T20:39:13.358Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:39:13.370Z] [runtime-status] [15112] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:39:13.374Z] [runtime-status] [15112] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15112] Ephemeral server survived."}}
[info] >  (node:15112) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15112) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15112) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:39:39.353Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:39:40.359Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:39:40.359Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: FINISHING"}}
[debug] [2020-12-28T20:39:40.360Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:39:40.360Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: FINISHING"}}
[debug] [2020-12-28T20:39:40.360Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:39:40.360Z] [worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: FINISHING"}}
[debug] [2020-12-28T20:39:40.367Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:39:40.368Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:39:40.368Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:39:40.368Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15114.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15114.sock"}}
[debug] [2020-12-28T20:39:40.368Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: BUSY"}}
[debug] [2020-12-28T20:39:40.373Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: exited"}}
[debug] [2020-12-28T20:39:40.373Z] [worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-0567fa21-0ee3-423e-a1d7-0ae04e4d400b]: FINISHED"}}
[debug] [2020-12-28T20:39:40.825Z] [runtime-status] [15114] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:39:40.828Z] [runtime-status] [15114] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:39:40.833Z] [runtime-status] [15114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.835Z] [runtime-status] [15114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.836Z] [runtime-status] [15114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.841Z] [runtime-status] [15114] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:39:40.842Z] [runtime-status] [15114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.942Z] [runtime-status] [15114] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:39:40.942Z] [runtime-status] [15114] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:40.943Z] [runtime-status] [15114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.944Z] [runtime-status] [15114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.944Z] [runtime-status] [15114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:40.945Z] [runtime-status] [15114] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15114] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:41.223Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: IDLE"}}
[debug] [2020-12-28T20:39:44.862Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:39:44.863Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:39:44.863Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:39:44.863Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:39:44.869Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:39:44.869Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:39:44.870Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:39:44.870Z] [worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15115.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15115.sock"}}
[debug] [2020-12-28T20:39:44.870Z] [worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: BUSY"}}
[debug] [2020-12-28T20:39:45.509Z] [runtime-status] [15115] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:39:45.517Z] [runtime-status] [15115] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:39:45.524Z] [runtime-status] [15115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.526Z] [runtime-status] [15115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.530Z] [runtime-status] [15115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.568Z] [runtime-status] [15115] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:39:45.571Z] [runtime-status] [15115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.756Z] [runtime-status] [15115] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:39:45.757Z] [runtime-status] [15115] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:45.757Z] [runtime-status] [15115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.761Z] [runtime-status] [15115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.761Z] [runtime-status] [15115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:39:45.762Z] [runtime-status] [15115] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:39:46.226Z] [runtime-status] [15115] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:39:46.230Z] [runtime-status] [15115] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:39:46.231Z] [runtime-status] [15115] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:39:46.262Z] [runtime-status] [15115] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15115.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15115.sock"}}
[debug] [2020-12-28T20:39:46.274Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:39:46.306Z] [runtime-status] [15115] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:39:46.320Z] [runtime-status] [15115] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15115] Ephemeral server survived."}}
[info] >  (node:15115) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15115) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15115) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15115) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15115) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15115) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15115) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15115) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15115) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:40:05.179Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: exited"}}
[debug] [2020-12-28T20:40:05.179Z] [worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0396f2c3-f6be-40b8-a175-8fba24f0b4dc]: FINISHED"}}
[debug] [2020-12-28T20:40:05.179Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:40:08.758Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:40:08.758Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:40:08.758Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:40:08.759Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2020-12-28T20:40:08.770Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:40:08.771Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:40:08.771Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:40:08.771Z] [worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15117.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15117.sock"}}
[debug] [2020-12-28T20:40:08.771Z] [worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: BUSY"}}
[debug] [2020-12-28T20:40:09.288Z] [runtime-status] [15117] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:40:09.291Z] [runtime-status] [15117] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:40:09.297Z] [runtime-status] [15117] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.299Z] [runtime-status] [15117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.300Z] [runtime-status] [15117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.305Z] [runtime-status] [15117] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:40:09.305Z] [runtime-status] [15117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.387Z] [runtime-status] [15117] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:40:09.387Z] [runtime-status] [15117] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:40:09.388Z] [runtime-status] [15117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.389Z] [runtime-status] [15117] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.390Z] [runtime-status] [15117] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:09.390Z] [runtime-status] [15117] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:40:09.612Z] [runtime-status] [15117] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:40:09.613Z] [runtime-status] [15117] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:40:09.613Z] [runtime-status] [15117] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:40:09.620Z] [runtime-status] [15117] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15117.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15117.sock"}}
[debug] [2020-12-28T20:40:09.626Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:40:09.639Z] [runtime-status] [15117] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:40:09.645Z] [runtime-status] [15117] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15117] Ephemeral server survived."}}
[info] >  (node:15117) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15117) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15117) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15117) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15117) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15117) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15117) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15117) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15117) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:40:13.372Z] [worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: exited"}}
[debug] [2020-12-28T20:40:13.372Z] [worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-929e2b89-bc14-4e38-85c6-d64d40b60e97]: FINISHED"}}
[debug] [2020-12-28T20:40:13.373Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:40:33.256Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:40:33.257Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:40:33.257Z] Accepted request GET /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:40:33.257Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2020-12-28T20:40:33.263Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:40:33.263Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:40:33.263Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:40:33.264Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock"}}
[debug] [2020-12-28T20:40:33.264Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: BUSY"}}
[debug] [2020-12-28T20:40:33.654Z] [runtime-status] [15122] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:40:33.657Z] [runtime-status] [15122] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:40:33.661Z] [runtime-status] [15122] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.663Z] [runtime-status] [15122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.665Z] [runtime-status] [15122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.669Z] [runtime-status] [15122] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:40:33.669Z] [runtime-status] [15122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.753Z] [runtime-status] [15122] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:40:33.754Z] [runtime-status] [15122] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:40:33.754Z] [runtime-status] [15122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.755Z] [runtime-status] [15122] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.755Z] [runtime-status] [15122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:40:33.755Z] [runtime-status] [15122] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:40:33.975Z] [runtime-status] [15122] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:40:33.976Z] [runtime-status] [15122] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:40:33.976Z] [runtime-status] [15122] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:40:33.986Z] [runtime-status] [15122] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock"}}
[debug] [2020-12-28T20:40:33.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:40:34.005Z] [runtime-status] [15122] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:40:34.017Z] [runtime-status] [15122] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:40:34.021Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: IDLE"}}
[debug] [2020-12-28T20:40:34.021Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:40:46.272Z] [worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: exited"}}
[debug] [2020-12-28T20:40:46.273Z] [worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d5fb11c-36a2-4fab-b4ba-5b6e72b34685]: FINISHED"}}
[debug] [2020-12-28T20:40:46.273Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:41:01.608Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:41:01.608Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:41:01.608Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:41:01.608Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2020-12-28T20:41:01.608Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:41:01.608Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock"}}
[debug] [2020-12-28T20:41:01.609Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: BUSY"}}
[debug] [2020-12-28T20:41:01.609Z] [runtime-status] [15122] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:41:01.610Z] [runtime-status] [15122] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:41:01.610Z] [runtime-status] [15122] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:41:01.610Z] [runtime-status] [15122] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15122.sock"}}
[debug] [2020-12-28T20:41:01.613Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:41:01.618Z] [runtime-status] [15122] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:41:01.620Z] [runtime-status] [15122] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15122] Ephemeral server survived."}}
[info] >  (node:15122) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15122) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15122) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:41:02.206Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:41:02.207Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:41:02.210Z] Accepted request GET /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:41:02.216Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:41:02.216Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:41:02.216Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:41:02.217Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15130.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15130.sock"}}
[debug] [2020-12-28T20:41:02.217Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: BUSY"}}
[debug] [2020-12-28T20:41:02.658Z] [runtime-status] [15130] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:41:02.661Z] [runtime-status] [15130] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:41:02.667Z] [runtime-status] [15130] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.669Z] [runtime-status] [15130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.670Z] [runtime-status] [15130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.674Z] [runtime-status] [15130] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:41:02.674Z] [runtime-status] [15130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.764Z] [runtime-status] [15130] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:41:02.767Z] [runtime-status] [15130] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:41:02.767Z] [runtime-status] [15130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.768Z] [runtime-status] [15130] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.770Z] [runtime-status] [15130] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:41:02.770Z] [runtime-status] [15130] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:41:03.008Z] [runtime-status] [15130] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:41:03.009Z] [runtime-status] [15130] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:41:03.009Z] [runtime-status] [15130] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:41:03.014Z] [runtime-status] [15130] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15130.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15130.sock"}}
[debug] [2020-12-28T20:41:03.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:41:03.031Z] [runtime-status] [15130] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:41:03.043Z] [runtime-status] [15130] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15130] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:41:03.046Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: IDLE"}}
[debug] [2020-12-28T20:41:03.046Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:41:09.638Z] [worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: exited"}}
[debug] [2020-12-28T20:41:09.639Z] [worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e52a516a-0d55-440d-a7d7-02e4c882ed55]: FINISHED"}}
[debug] [2020-12-28T20:41:09.639Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:42:01.632Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: exited"}}
[debug] [2020-12-28T20:42:01.632Z] [worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-883f9438-8023-40d7-a5d9-d31d36582c75]: FINISHED"}}
[debug] [2020-12-28T20:42:01.632Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:43:50.507Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:43:51.512Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:43:51.512Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: FINISHING"}}
[debug] [2020-12-28T20:43:51.512Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-12-28T20:43:51.513Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: FINISHING"}}
[debug] [2020-12-28T20:43:51.513Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-12-28T20:43:51.533Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:43:51.533Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:43:51.533Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:43:51.534Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15148.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15148.sock"}}
[debug] [2020-12-28T20:43:51.534Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: BUSY"}}
[debug] [2020-12-28T20:43:51.536Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: exited"}}
[debug] [2020-12-28T20:43:51.537Z] [worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bae868ad-2cd6-4ecc-bb82-aa29a5b0e27a]: FINISHED"}}
[debug] [2020-12-28T20:43:51.537Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: exited"}}
[debug] [2020-12-28T20:43:51.537Z] [worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bed8385c-a8ca-4dff-98bb-1b60e6f46355]: FINISHED"}}
[debug] [2020-12-28T20:43:52.262Z] [runtime-status] [15148] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:43:52.266Z] [runtime-status] [15148] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:43:52.273Z] [runtime-status] [15148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.276Z] [runtime-status] [15148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.277Z] [runtime-status] [15148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.282Z] [runtime-status] [15148] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:43:52.284Z] [runtime-status] [15148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.435Z] [runtime-status] [15148] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:43:52.435Z] [runtime-status] [15148] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:43:52.436Z] [runtime-status] [15148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.438Z] [runtime-status] [15148] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.439Z] [runtime-status] [15148] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:43:52.439Z] [runtime-status] [15148] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15148] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:43:52.728Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: IDLE"}}
[debug] [2020-12-28T20:44:08.482Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:44:08.482Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:44:08.482Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:44:08.482Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:44:08.482Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T20:44:08.493Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:44:08.493Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:44:08.494Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:44:08.494Z] [worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15150.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15150.sock"}}
[debug] [2020-12-28T20:44:08.494Z] [worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: BUSY"}}
[debug] [2020-12-28T20:44:09.024Z] [runtime-status] [15150] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:44:09.051Z] [runtime-status] [15150] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:44:09.060Z] [runtime-status] [15150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.067Z] [runtime-status] [15150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.071Z] [runtime-status] [15150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.080Z] [runtime-status] [15150] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:44:09.084Z] [runtime-status] [15150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.224Z] [runtime-status] [15150] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:44:09.225Z] [runtime-status] [15150] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:09.227Z] [runtime-status] [15150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.230Z] [runtime-status] [15150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.231Z] [runtime-status] [15150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:09.233Z] [runtime-status] [15150] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:09.498Z] [runtime-status] [15150] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:44:09.499Z] [runtime-status] [15150] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:44:09.499Z] [runtime-status] [15150] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:44:09.531Z] [runtime-status] [15150] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15150.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15150.sock"}}
[debug] [2020-12-28T20:44:09.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:44:09.559Z] [runtime-status] [15150] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:44:09.567Z] [runtime-status] [15150] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15150] Ephemeral server survived."}}
[info] >  (node:15150) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15150) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15150) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:44:18.941Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:44:18.941Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:44:18.941Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:44:18.951Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:44:18.951Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:44:18.951Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:44:18.951Z] [worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15152.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15152.sock"}}
[debug] [2020-12-28T20:44:18.952Z] [worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: BUSY"}}
[debug] [2020-12-28T20:44:19.761Z] [runtime-status] [15152] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:44:19.767Z] [runtime-status] [15152] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:44:19.778Z] [runtime-status] [15152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:19.784Z] [runtime-status] [15152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:19.786Z] [runtime-status] [15152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:19.795Z] [runtime-status] [15152] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:44:19.796Z] [runtime-status] [15152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:20.045Z] [runtime-status] [15152] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:44:20.047Z] [runtime-status] [15152] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:20.048Z] [runtime-status] [15152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:20.050Z] [runtime-status] [15152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:20.052Z] [runtime-status] [15152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:20.054Z] [runtime-status] [15152] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:20.664Z] [runtime-status] [15152] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:44:20.665Z] [runtime-status] [15152] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:44:20.665Z] [runtime-status] [15152] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:44:20.680Z] [runtime-status] [15152] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15152.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15152.sock"}}
[debug] [2020-12-28T20:44:20.700Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:44:20.730Z] [runtime-status] [15152] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:44:20.738Z] [runtime-status] [15152] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15152] Ephemeral server survived."}}
[info] >  (node:15152) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15152) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15152) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15152) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15152) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15152) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15152) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15152) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15152) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:44:32.427Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:44:32.427Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:44:32.427Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:44:32.433Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:44:32.433Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:44:32.433Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:44:32.434Z] [worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15154.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15154.sock"}}
[debug] [2020-12-28T20:44:32.434Z] [worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: BUSY"}}
[debug] [2020-12-28T20:44:33.250Z] [runtime-status] [15154] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:44:33.254Z] [runtime-status] [15154] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:44:33.262Z] [runtime-status] [15154] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.265Z] [runtime-status] [15154] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.267Z] [runtime-status] [15154] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.278Z] [runtime-status] [15154] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:44:33.286Z] [runtime-status] [15154] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.439Z] [runtime-status] [15154] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:44:33.440Z] [runtime-status] [15154] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:33.445Z] [runtime-status] [15154] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.446Z] [runtime-status] [15154] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.448Z] [runtime-status] [15154] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:33.449Z] [runtime-status] [15154] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:34.044Z] [runtime-status] [15154] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:44:34.046Z] [runtime-status] [15154] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:44:34.046Z] [runtime-status] [15154] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:44:34.054Z] [runtime-status] [15154] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15154.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15154.sock"}}
[debug] [2020-12-28T20:44:34.065Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:44:34.080Z] [runtime-status] [15154] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:44:34.085Z] [runtime-status] [15154] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15154] Ephemeral server survived."}}
[info] >  (node:15154) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15154) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15154) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15154) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15154) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15154) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15154) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15154) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15154) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:44:46.467Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:44:46.467Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:44:46.467Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:44:46.475Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:44:46.475Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:44:46.475Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:44:46.476Z] [worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15155.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15155.sock"}}
[debug] [2020-12-28T20:44:46.476Z] [worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: BUSY"}}
[debug] [2020-12-28T20:44:47.029Z] [runtime-status] [15155] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:44:47.033Z] [runtime-status] [15155] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:44:47.038Z] [runtime-status] [15155] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.040Z] [runtime-status] [15155] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.042Z] [runtime-status] [15155] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.049Z] [runtime-status] [15155] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:44:47.050Z] [runtime-status] [15155] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.158Z] [runtime-status] [15155] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:44:47.158Z] [runtime-status] [15155] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:47.159Z] [runtime-status] [15155] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.160Z] [runtime-status] [15155] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.160Z] [runtime-status] [15155] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:47.162Z] [runtime-status] [15155] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:47.402Z] [runtime-status] [15155] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:44:47.403Z] [runtime-status] [15155] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:44:47.403Z] [runtime-status] [15155] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:44:47.410Z] [runtime-status] [15155] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15155.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15155.sock"}}
[debug] [2020-12-28T20:44:47.417Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:44:47.431Z] [runtime-status] [15155] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:44:47.437Z] [runtime-status] [15155] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15155] Ephemeral server survived."}}
[info] >  (node:15155) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15155) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15155) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:25:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15155) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15155) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15155) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15155) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15155) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15155) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:44:55.430Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: FINISHING"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: FINISHING"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: FINISHING"}}
[debug] [2020-12-28T20:44:56.430Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:44:56.431Z] [worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: FINISHING"}}
[debug] [2020-12-28T20:44:56.431Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:44:56.431Z] [worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: FINISHING"}}
[debug] [2020-12-28T20:44:56.442Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:44:56.443Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:44:56.443Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:44:56.443Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15156.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15156.sock"}}
[debug] [2020-12-28T20:44:56.443Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: BUSY"}}
[debug] [2020-12-28T20:44:56.445Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: exited"}}
[debug] [2020-12-28T20:44:56.446Z] [worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-31622909-baeb-43c7-8d81-6ac3f23293d4]: FINISHED"}}
[debug] [2020-12-28T20:44:56.878Z] [runtime-status] [15156] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:44:56.882Z] [runtime-status] [15156] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:44:56.888Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.890Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.891Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.898Z] [runtime-status] [15156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:44:56.899Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.961Z] [runtime-status] [15156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:44:56.961Z] [runtime-status] [15156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:56.962Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.963Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.963Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:44:56.963Z] [runtime-status] [15156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:44:57.087Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: IDLE"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:45:09.545Z] [worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: exited"}}
[debug] [2020-12-28T20:45:09.545Z] [worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca075ea1-f35b-4c3a-a796-0419902f24b2]: FINISHED"}}
[debug] [2020-12-28T20:45:09.545Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:45:20.695Z] [worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: exited"}}
[debug] [2020-12-28T20:45:20.696Z] [worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c2c8212e-925d-4c1e-9750-81837058b4ef]: FINISHED"}}
[debug] [2020-12-28T20:45:20.696Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:45:29.591Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:45:30.595Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:45:30.595Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: FINISHING"}}
[debug] [2020-12-28T20:45:30.596Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:45:30.596Z] [worker-pool] Cleaned up workers for api: 4 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 2"}}
[debug] [2020-12-28T20:45:30.605Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:45:30.605Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:45:30.605Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:45:30.605Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15160.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15160.sock"}}
[debug] [2020-12-28T20:45:30.605Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: BUSY"}}
[debug] [2020-12-28T20:45:30.606Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: exited"}}
[debug] [2020-12-28T20:45:30.606Z] [worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-5a45e4bc-521d-4cfa-8d9f-d85534730086]: FINISHED"}}
[debug] [2020-12-28T20:45:31.046Z] [runtime-status] [15160] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:45:31.049Z] [runtime-status] [15160] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:45:31.053Z] [runtime-status] [15160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.055Z] [runtime-status] [15160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.056Z] [runtime-status] [15160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.060Z] [runtime-status] [15160] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:45:31.060Z] [runtime-status] [15160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.184Z] [runtime-status] [15160] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:45:31.185Z] [runtime-status] [15160] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:31.186Z] [runtime-status] [15160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.188Z] [runtime-status] [15160] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.189Z] [runtime-status] [15160] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:31.189Z] [runtime-status] [15160] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15160] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:31.522Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: IDLE"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:45:34.071Z] [worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: exited"}}
[debug] [2020-12-28T20:45:34.072Z] [worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-40f85a57-24a7-4349-942f-e2a9aa06f1a4]: FINISHED"}}
[debug] [2020-12-28T20:45:34.072Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:45:35.889Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:45:35.890Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:45:35.890Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T20:45:35.890Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:45:35.890Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-12-28T20:45:35.896Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:45:35.896Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:45:35.896Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:45:35.896Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock"}}
[debug] [2020-12-28T20:45:35.896Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: BUSY"}}
[debug] [2020-12-28T20:45:36.177Z] [runtime-status] [15162] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:45:36.180Z] [runtime-status] [15162] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:45:36.184Z] [runtime-status] [15162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.185Z] [runtime-status] [15162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.186Z] [runtime-status] [15162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.191Z] [runtime-status] [15162] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:45:36.192Z] [runtime-status] [15162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.246Z] [runtime-status] [15162] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:45:36.246Z] [runtime-status] [15162] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:36.247Z] [runtime-status] [15162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.249Z] [runtime-status] [15162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.249Z] [runtime-status] [15162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:36.249Z] [runtime-status] [15162] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:36.369Z] [runtime-status] [15162] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:45:36.370Z] [runtime-status] [15162] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:45:36.370Z] [runtime-status] [15162] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:45:36.379Z] [runtime-status] [15162] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock"}}
[debug] [2020-12-28T20:45:36.388Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:45:36.402Z] [runtime-status] [15162] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:45:36.416Z] [runtime-status] [15162] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:45:36.419Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: IDLE"}}
[debug] [2020-12-28T20:45:36.419Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:45:39.970Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:45:39.971Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:45:39.971Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:45:39.971Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:45:39.972Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock"}}
[debug] [2020-12-28T20:45:39.972Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: BUSY"}}
[debug] [2020-12-28T20:45:39.976Z] [runtime-status] [15162] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:45:39.977Z] [runtime-status] [15162] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:45:39.978Z] [runtime-status] [15162] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:45:39.979Z] [runtime-status] [15162] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15162.sock"}}
[debug] [2020-12-28T20:45:39.980Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:45:39.990Z] [runtime-status] [15162] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:45:39.991Z] [runtime-status] [15162] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15162] Ephemeral server survived."}}
[info] >  (node:15162) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15162) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15162) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15162) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15162) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15162) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15162) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15162) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15162) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:45:47.105Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:45:47.105Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:45:47.105Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:45:47.120Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:45:47.121Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:45:47.121Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:45:47.121Z] [worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15163.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15163.sock"}}
[debug] [2020-12-28T20:45:47.121Z] [worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: BUSY"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:45:47.422Z] [worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: exited"}}
[debug] [2020-12-28T20:45:47.422Z] [worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4127d338-7d73-4bd3-948c-f062628d9b9d]: FINISHED"}}
[debug] [2020-12-28T20:45:47.423Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:45:47.591Z] [runtime-status] [15163] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:45:47.598Z] [runtime-status] [15163] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:45:47.605Z] [runtime-status] [15163] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.608Z] [runtime-status] [15163] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.609Z] [runtime-status] [15163] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.615Z] [runtime-status] [15163] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:45:47.616Z] [runtime-status] [15163] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.725Z] [runtime-status] [15163] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:45:47.725Z] [runtime-status] [15163] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:47.726Z] [runtime-status] [15163] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.728Z] [runtime-status] [15163] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.728Z] [runtime-status] [15163] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:47.728Z] [runtime-status] [15163] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:48.004Z] [runtime-status] [15163] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:45:48.007Z] [runtime-status] [15163] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:45:48.007Z] [runtime-status] [15163] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:45:48.013Z] [runtime-status] [15163] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15163.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15163.sock"}}
[debug] [2020-12-28T20:45:48.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:45:48.037Z] [runtime-status] [15163] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:45:48.044Z] [runtime-status] [15163] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15163] Ephemeral server survived."}}
[info] >  (node:15163) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15163) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15163) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15163) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15163) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15163) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15163) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15163) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15163) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:45:51.018Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:45:51.018Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:45:51.018Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:45:51.018Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2020-12-28T20:45:51.025Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:45:51.025Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:45:51.025Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:45:51.025Z] [worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15165.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15165.sock"}}
[debug] [2020-12-28T20:45:51.025Z] [worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: BUSY"}}
[debug] [2020-12-28T20:45:51.777Z] [runtime-status] [15165] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:45:51.781Z] [runtime-status] [15165] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:45:51.788Z] [runtime-status] [15165] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.790Z] [runtime-status] [15165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.791Z] [runtime-status] [15165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.799Z] [runtime-status] [15165] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:45:51.800Z] [runtime-status] [15165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.961Z] [runtime-status] [15165] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:45:51.962Z] [runtime-status] [15165] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:51.963Z] [runtime-status] [15165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.965Z] [runtime-status] [15165] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.966Z] [runtime-status] [15165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:45:51.966Z] [runtime-status] [15165] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:45:52.367Z] [runtime-status] [15165] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:45:52.370Z] [runtime-status] [15165] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:45:52.371Z] [runtime-status] [15165] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:45:52.379Z] [runtime-status] [15165] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15165.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15165.sock"}}
[debug] [2020-12-28T20:45:52.428Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:45:52.475Z] [runtime-status] [15165] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:45:52.555Z] [runtime-status] [15165] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15165] Ephemeral server survived."}}
[info] >  (node:15165) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15165) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15165) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15165) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15165) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15165) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15165) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15165) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15165) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:46:39.995Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: exited"}}
[debug] [2020-12-28T20:46:39.995Z] [worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ab9fe57-a351-441a-9096-5e1d7c8543fb]: FINISHED"}}
[debug] [2020-12-28T20:46:39.995Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:46:42.901Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:46:42.901Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:46:42.901Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:46:42.901Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2020-12-28T20:46:42.906Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:46:42.906Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:46:42.906Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:46:42.906Z] [worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15171.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15171.sock"}}
[debug] [2020-12-28T20:46:42.906Z] [worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: BUSY"}}
[debug] [2020-12-28T20:46:43.366Z] [runtime-status] [15171] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:46:43.369Z] [runtime-status] [15171] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:46:43.374Z] [runtime-status] [15171] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.376Z] [runtime-status] [15171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.377Z] [runtime-status] [15171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.382Z] [runtime-status] [15171] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:46:43.382Z] [runtime-status] [15171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.508Z] [runtime-status] [15171] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:46:43.508Z] [runtime-status] [15171] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:46:43.509Z] [runtime-status] [15171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.510Z] [runtime-status] [15171] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.510Z] [runtime-status] [15171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:43.510Z] [runtime-status] [15171] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:46:43.779Z] [runtime-status] [15171] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:46:43.780Z] [runtime-status] [15171] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:46:43.780Z] [runtime-status] [15171] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:46:43.790Z] [runtime-status] [15171] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15171.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15171.sock"}}
[debug] [2020-12-28T20:46:43.800Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:46:43.812Z] [runtime-status] [15171] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:46:43.816Z] [runtime-status] [15171] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15171] Ephemeral server survived."}}
[info] >  (node:15171) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15171) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15171) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15171) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15171) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15171) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15171) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15171) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15171) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:46:47.826Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:46:47.826Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:46:47.826Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:46:47.833Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:46:47.833Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:46:47.833Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:46:47.834Z] [worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15174.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15174.sock"}}
[debug] [2020-12-28T20:46:47.834Z] [worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: BUSY"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:46:48.021Z] [worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: exited"}}
[debug] [2020-12-28T20:46:48.021Z] [worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e483692-3042-4639-9f4c-e468ab7e3242]: FINISHED"}}
[debug] [2020-12-28T20:46:48.021Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:46:48.476Z] [runtime-status] [15174] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:46:48.481Z] [runtime-status] [15174] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:46:48.498Z] [runtime-status] [15174] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.503Z] [runtime-status] [15174] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.506Z] [runtime-status] [15174] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.513Z] [runtime-status] [15174] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:46:48.514Z] [runtime-status] [15174] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.586Z] [runtime-status] [15174] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:46:48.587Z] [runtime-status] [15174] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:46:48.587Z] [runtime-status] [15174] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.589Z] [runtime-status] [15174] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.589Z] [runtime-status] [15174] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:46:48.589Z] [runtime-status] [15174] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:46:48.722Z] [runtime-status] [15174] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:46:48.723Z] [runtime-status] [15174] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:46:48.723Z] [runtime-status] [15174] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:46:48.728Z] [runtime-status] [15174] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15174.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15174.sock"}}
[debug] [2020-12-28T20:46:48.734Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:46:48.746Z] [runtime-status] [15174] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:46:48.753Z] [runtime-status] [15174] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15174] Ephemeral server survived."}}
[info] >  (node:15174) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15174) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15174) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15174) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15174) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15174) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15174) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15174) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15174) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:46:52.393Z] [worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: exited"}}
[debug] [2020-12-28T20:46:52.393Z] [worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ca2b6ea5-2329-4f12-ba0b-cc62e2b7944a]: FINISHED"}}
[debug] [2020-12-28T20:46:52.393Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:47:43.806Z] [worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: exited"}}
[debug] [2020-12-28T20:47:43.806Z] [worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-20bfcb80-264a-483a-b36e-d19b9de083b5]: FINISHED"}}
[debug] [2020-12-28T20:47:43.806Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:47:48.738Z] [worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: exited"}}
[debug] [2020-12-28T20:47:48.739Z] [worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2e55a08b-83af-49aa-b294-50d6e5bd4b82]: FINISHED"}}
[debug] [2020-12-28T20:47:48.739Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:48:16.685Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:48:16.687Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:48:16.687Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:48:16.687Z] [worker-pool] Cleaned up workers for api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 0"}}
[debug] [2020-12-28T20:48:16.696Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:48:16.696Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:48:16.696Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:48:16.696Z] [worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15178.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15178.sock"}}
[debug] [2020-12-28T20:48:16.696Z] [worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: BUSY"}}
[debug] [2020-12-28T20:48:17.328Z] [runtime-status] [15178] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:48:17.332Z] [runtime-status] [15178] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:48:17.338Z] [runtime-status] [15178] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.341Z] [runtime-status] [15178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.342Z] [runtime-status] [15178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.349Z] [runtime-status] [15178] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:48:17.350Z] [runtime-status] [15178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.445Z] [runtime-status] [15178] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:48:17.445Z] [runtime-status] [15178] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:17.447Z] [runtime-status] [15178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.448Z] [runtime-status] [15178] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.448Z] [runtime-status] [15178] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:17.449Z] [runtime-status] [15178] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:17.789Z] [runtime-status] [15178] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:48:17.790Z] [runtime-status] [15178] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:48:17.790Z] [runtime-status] [15178] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:48:17.796Z] [runtime-status] [15178] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15178.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15178.sock"}}
[debug] [2020-12-28T20:48:17.804Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:48:17.815Z] [runtime-status] [15178] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:48:17.821Z] [runtime-status] [15178] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15178] Ephemeral server survived."}}
[info] >  (node:15178) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15178) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15178) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15178) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15178) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15178) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15178) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15178) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15178) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:48:41.879Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:48:41.879Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:48:41.879Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:48:41.889Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:48:41.889Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:48:41.890Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:48:41.890Z] [worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15180.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15180.sock"}}
[debug] [2020-12-28T20:48:41.892Z] [worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: BUSY"}}
[debug] [2020-12-28T20:48:42.426Z] [runtime-status] [15180] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:48:42.432Z] [runtime-status] [15180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:48:42.440Z] [runtime-status] [15180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.444Z] [runtime-status] [15180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.450Z] [runtime-status] [15180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.455Z] [runtime-status] [15180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:48:42.456Z] [runtime-status] [15180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.561Z] [runtime-status] [15180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:48:42.562Z] [runtime-status] [15180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:42.567Z] [runtime-status] [15180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.567Z] [runtime-status] [15180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.567Z] [runtime-status] [15180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:42.568Z] [runtime-status] [15180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:42.846Z] [runtime-status] [15180] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:48:42.847Z] [runtime-status] [15180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:48:42.847Z] [runtime-status] [15180] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:48:42.868Z] [runtime-status] [15180] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15180.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15180.sock"}}
[debug] [2020-12-28T20:48:42.874Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:48:42.890Z] [runtime-status] [15180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:48:42.903Z] [runtime-status] [15180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15180] Ephemeral server survived."}}
[info] >  (node:15180) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15180) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15180) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:48:51.577Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:48:51.577Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:48:51.577Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:48:51.585Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:48:51.586Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:48:51.586Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:48:51.586Z] [worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15182.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15182.sock"}}
[debug] [2020-12-28T20:48:51.586Z] [worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: BUSY"}}
[debug] [2020-12-28T20:48:52.650Z] [runtime-status] [15182] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:48:52.655Z] [runtime-status] [15182] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:48:52.664Z] [runtime-status] [15182] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.667Z] [runtime-status] [15182] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.671Z] [runtime-status] [15182] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.695Z] [runtime-status] [15182] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:48:52.697Z] [runtime-status] [15182] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.937Z] [runtime-status] [15182] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:48:52.938Z] [runtime-status] [15182] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:52.939Z] [runtime-status] [15182] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.945Z] [runtime-status] [15182] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.946Z] [runtime-status] [15182] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:52.947Z] [runtime-status] [15182] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:53.403Z] [runtime-status] [15182] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:48:53.405Z] [runtime-status] [15182] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:48:53.405Z] [runtime-status] [15182] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:48:53.419Z] [runtime-status] [15182] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15182.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15182.sock"}}
[debug] [2020-12-28T20:48:53.443Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:48:53.510Z] [runtime-status] [15182] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:48:53.523Z] [runtime-status] [15182] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15182] Ephemeral server survived."}}
[info] >  (node:15182) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15182) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15182) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15182) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15182) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15182) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15182) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15182) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15182) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:48:57.713Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:48:57.713Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:48:57.713Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T20:48:57.721Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:48:57.722Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:48:57.722Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:48:57.722Z] [worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15183.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15183.sock"}}
[debug] [2020-12-28T20:48:57.722Z] [worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: BUSY"}}
[debug] [2020-12-28T20:48:58.169Z] [runtime-status] [15183] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:48:58.172Z] [runtime-status] [15183] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:48:58.177Z] [runtime-status] [15183] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.179Z] [runtime-status] [15183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.180Z] [runtime-status] [15183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.185Z] [runtime-status] [15183] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:48:58.186Z] [runtime-status] [15183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.265Z] [runtime-status] [15183] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:48:58.265Z] [runtime-status] [15183] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:58.266Z] [runtime-status] [15183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.267Z] [runtime-status] [15183] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.268Z] [runtime-status] [15183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:48:58.268Z] [runtime-status] [15183] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:48:58.419Z] [runtime-status] [15183] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:48:58.420Z] [runtime-status] [15183] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:48:58.420Z] [runtime-status] [15183] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:48:58.431Z] [runtime-status] [15183] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15183.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15183.sock"}}
[debug] [2020-12-28T20:48:58.440Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:48:58.462Z] [runtime-status] [15183] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:48:58.468Z] [runtime-status] [15183] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15183] Ephemeral server survived."}}
[info] >  (node:15183) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15183) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15183) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:49:17.815Z] [worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: exited"}}
[debug] [2020-12-28T20:49:17.815Z] [worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cd532159-6881-4691-af00-9c1f95892ba5]: FINISHED"}}
[debug] [2020-12-28T20:49:17.816Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:49:42.864Z] [worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: exited"}}
[debug] [2020-12-28T20:49:42.864Z] [worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-64da7439-0e77-4c9d-bdae-8b6e98e34103]: FINISHED"}}
[debug] [2020-12-28T20:49:42.865Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:49:53.428Z] [worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: exited"}}
[debug] [2020-12-28T20:49:53.428Z] [worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b2a4dab-bd02-4871-ac5d-6ca29e3773cd]: FINISHED"}}
[debug] [2020-12-28T20:49:53.429Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:49:56.203Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:49:56.203Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:49:56.203Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:49:56.203Z] [worker-pool] Cleaned up workers for api: 4 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 1"}}
[debug] [2020-12-28T20:49:56.210Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:49:56.210Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:49:56.211Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:49:56.211Z] [worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15187.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15187.sock"}}
[debug] [2020-12-28T20:49:56.211Z] [worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: BUSY"}}
[debug] [2020-12-28T20:49:56.607Z] [runtime-status] [15187] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:49:56.611Z] [runtime-status] [15187] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:49:56.616Z] [runtime-status] [15187] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.618Z] [runtime-status] [15187] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.618Z] [runtime-status] [15187] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.624Z] [runtime-status] [15187] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:49:56.624Z] [runtime-status] [15187] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.678Z] [runtime-status] [15187] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:49:56.679Z] [runtime-status] [15187] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:49:56.679Z] [runtime-status] [15187] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.680Z] [runtime-status] [15187] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.681Z] [runtime-status] [15187] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:49:56.681Z] [runtime-status] [15187] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:49:56.819Z] [runtime-status] [15187] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:49:56.820Z] [runtime-status] [15187] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:49:56.820Z] [runtime-status] [15187] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:49:56.873Z] [runtime-status] [15187] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15187.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15187.sock"}}
[debug] [2020-12-28T20:49:56.880Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:49:56.891Z] [runtime-status] [15187] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:49:56.897Z] [runtime-status] [15187] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15187] Ephemeral server survived."}}
[info] >  (node:15187) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15187) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15187) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15187) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15187) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15187) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15187) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15187) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15187) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:49:58.447Z] [worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: exited"}}
[debug] [2020-12-28T20:49:58.447Z] [worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8a35f193-3a3b-4bf3-a051-b316b7effdc4]: FINISHED"}}
[debug] [2020-12-28T20:49:58.448Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:50:56.848Z] [worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: exited"}}
[debug] [2020-12-28T20:50:56.848Z] [worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-59bc5f02-b79f-4e1f-80ea-2f99bf6655e9]: FINISHED"}}
[debug] [2020-12-28T20:50:56.849Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:51:15.559Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:51:15.559Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:51:15.559Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:51:15.559Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-12-28T20:51:15.565Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:51:15.565Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:51:15.566Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:51:15.566Z] [worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15203.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15203.sock"}}
[debug] [2020-12-28T20:51:15.566Z] [worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: BUSY"}}
[debug] [2020-12-28T20:51:15.985Z] [runtime-status] [15203] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:51:15.988Z] [runtime-status] [15203] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:51:15.994Z] [runtime-status] [15203] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:15.997Z] [runtime-status] [15203] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:15.998Z] [runtime-status] [15203] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:16.003Z] [runtime-status] [15203] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:51:16.004Z] [runtime-status] [15203] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:16.109Z] [runtime-status] [15203] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:51:16.109Z] [runtime-status] [15203] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:16.110Z] [runtime-status] [15203] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:16.111Z] [runtime-status] [15203] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:16.111Z] [runtime-status] [15203] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:16.111Z] [runtime-status] [15203] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:16.395Z] [runtime-status] [15203] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:51:16.396Z] [runtime-status] [15203] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:51:16.396Z] [runtime-status] [15203] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:51:16.404Z] [runtime-status] [15203] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15203.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15203.sock"}}
[debug] [2020-12-28T20:51:16.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:51:16.425Z] [runtime-status] [15203] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:51:16.430Z] [runtime-status] [15203] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15203] Ephemeral server survived."}}
[info] >  (node:15203) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15203) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15203) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15203) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15203) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15203) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15203) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15203) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15203) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:51:22.428Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:51:22.428Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:51:22.428Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:51:22.447Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:51:22.448Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:51:22.448Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:51:22.448Z] [worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15204.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15204.sock"}}
[debug] [2020-12-28T20:51:22.448Z] [worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: BUSY"}}
[debug] [2020-12-28T20:51:22.900Z] [runtime-status] [15204] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:51:22.906Z] [runtime-status] [15204] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:51:22.914Z] [runtime-status] [15204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.917Z] [runtime-status] [15204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.918Z] [runtime-status] [15204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.925Z] [runtime-status] [15204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:51:22.926Z] [runtime-status] [15204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.987Z] [runtime-status] [15204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:51:22.987Z] [runtime-status] [15204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:22.988Z] [runtime-status] [15204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.990Z] [runtime-status] [15204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.991Z] [runtime-status] [15204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:22.991Z] [runtime-status] [15204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:23.122Z] [runtime-status] [15204] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:51:23.123Z] [runtime-status] [15204] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:51:23.123Z] [runtime-status] [15204] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:51:23.130Z] [runtime-status] [15204] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15204.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15204.sock"}}
[debug] [2020-12-28T20:51:23.136Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:51:23.148Z] [runtime-status] [15204] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:51:23.154Z] [runtime-status] [15204] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15204] Ephemeral server survived."}}
[info] >  (node:15204) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15204) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15204) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15204) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15204) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:51:36.691Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:51:36.691Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:51:36.691Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:51:36.697Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:51:36.697Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:51:36.697Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:51:36.697Z] [worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15206.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15206.sock"}}
[debug] [2020-12-28T20:51:36.697Z] [worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: BUSY"}}
[debug] [2020-12-28T20:51:37.137Z] [runtime-status] [15206] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:51:37.143Z] [runtime-status] [15206] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:51:37.153Z] [runtime-status] [15206] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.157Z] [runtime-status] [15206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.159Z] [runtime-status] [15206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.170Z] [runtime-status] [15206] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:51:37.171Z] [runtime-status] [15206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.291Z] [runtime-status] [15206] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:51:37.291Z] [runtime-status] [15206] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:37.292Z] [runtime-status] [15206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.293Z] [runtime-status] [15206] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.294Z] [runtime-status] [15206] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:51:37.294Z] [runtime-status] [15206] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:51:37.539Z] [runtime-status] [15206] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:51:37.540Z] [runtime-status] [15206] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:51:37.540Z] [runtime-status] [15206] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:51:37.546Z] [runtime-status] [15206] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15206.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15206.sock"}}
[debug] [2020-12-28T20:51:37.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:51:37.568Z] [runtime-status] [15206] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:51:37.574Z] [runtime-status] [15206] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15206] Ephemeral server survived."}}
[info] >  (node:15206) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15206) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15206) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15206) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15206) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15206) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15206) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15206) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15206) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:52:16.418Z] [worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: exited"}}
[debug] [2020-12-28T20:52:16.418Z] [worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a31a86c7-9214-4fcc-bc1f-2c8b9200fc1c]: FINISHED"}}
[debug] [2020-12-28T20:52:16.418Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:52:23.139Z] [worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: exited"}}
[debug] [2020-12-28T20:52:23.140Z] [worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-de88d613-0ca1-440f-b534-7b9e15b635fa]: FINISHED"}}
[debug] [2020-12-28T20:52:23.140Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:52:37.556Z] [worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: exited"}}
[debug] [2020-12-28T20:52:37.557Z] [worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67416518-a6bd-40fa-b782-cf4158cb4964]: FINISHED"}}
[debug] [2020-12-28T20:52:37.558Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:53:27.119Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:53:27.119Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:53:27.119Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=5946 --> api
[debug] [2020-12-28T20:53:27.119Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2020-12-28T20:53:27.127Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:53:27.127Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:53:27.127Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:53:27.127Z] [worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15217.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15217.sock"}}
[debug] [2020-12-28T20:53:27.128Z] [worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: BUSY"}}
[debug] [2020-12-28T20:53:27.665Z] [runtime-status] [15217] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:53:27.670Z] [runtime-status] [15217] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:53:27.676Z] [runtime-status] [15217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.678Z] [runtime-status] [15217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.679Z] [runtime-status] [15217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.688Z] [runtime-status] [15217] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:53:27.689Z] [runtime-status] [15217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.815Z] [runtime-status] [15217] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:53:27.816Z] [runtime-status] [15217] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:27.817Z] [runtime-status] [15217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.818Z] [runtime-status] [15217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.819Z] [runtime-status] [15217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:27.819Z] [runtime-status] [15217] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:28.124Z] [runtime-status] [15217] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:53:28.126Z] [runtime-status] [15217] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:53:28.126Z] [runtime-status] [15217] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:53:28.131Z] [runtime-status] [15217] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15217.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15217.sock"}}
[debug] [2020-12-28T20:53:28.144Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:53:28.153Z] [runtime-status] [15217] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:53:28.158Z] [runtime-status] [15217] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15217] Ephemeral server survived."}}
[info] >  (node:15217) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15217) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15217) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15217) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15217) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15217) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15217) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15217) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15217) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:53:47.618Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:53:47.618Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:53:47.618Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=5946 --> api
[debug] [2020-12-28T20:53:47.621Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:53:47.622Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:53:47.622Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:53:47.622Z] [worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15220.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15220.sock"}}
[debug] [2020-12-28T20:53:47.622Z] [worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: BUSY"}}
[debug] [2020-12-28T20:53:48.045Z] [runtime-status] [15220] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:53:48.049Z] [runtime-status] [15220] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:53:48.055Z] [runtime-status] [15220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.058Z] [runtime-status] [15220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.059Z] [runtime-status] [15220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.064Z] [runtime-status] [15220] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:53:48.065Z] [runtime-status] [15220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.217Z] [runtime-status] [15220] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:53:48.217Z] [runtime-status] [15220] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:48.218Z] [runtime-status] [15220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.220Z] [runtime-status] [15220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.221Z] [runtime-status] [15220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:48.221Z] [runtime-status] [15220] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:48.545Z] [runtime-status] [15220] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:53:48.546Z] [runtime-status] [15220] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:53:48.546Z] [runtime-status] [15220] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:53:48.551Z] [runtime-status] [15220] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15220.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15220.sock"}}
[debug] [2020-12-28T20:53:48.558Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:53:48.575Z] [runtime-status] [15220] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:53:48.580Z] [runtime-status] [15220] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15220] Ephemeral server survived."}}
[info] >  (node:15220) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15220) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15220) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15220) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15220) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15220) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15220) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15220) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15220) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:53:52.528Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:53:52.529Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:53:52.529Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:53:52.535Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:53:52.535Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:53:52.535Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:53:52.535Z] [worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15221.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15221.sock"}}
[debug] [2020-12-28T20:53:52.535Z] [worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: BUSY"}}
[debug] [2020-12-28T20:53:53.288Z] [runtime-status] [15221] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:53:53.291Z] [runtime-status] [15221] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:53:53.297Z] [runtime-status] [15221] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.300Z] [runtime-status] [15221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.304Z] [runtime-status] [15221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.312Z] [runtime-status] [15221] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:53:53.314Z] [runtime-status] [15221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.468Z] [runtime-status] [15221] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:53:53.468Z] [runtime-status] [15221] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:53.469Z] [runtime-status] [15221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.470Z] [runtime-status] [15221] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.471Z] [runtime-status] [15221] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:53:53.471Z] [runtime-status] [15221] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:53:54.081Z] [runtime-status] [15221] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:53:54.082Z] [runtime-status] [15221] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:53:54.082Z] [runtime-status] [15221] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:53:54.089Z] [runtime-status] [15221] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15221.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15221.sock"}}
[debug] [2020-12-28T20:53:54.094Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:53:54.135Z] [runtime-status] [15221] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:53:54.162Z] [runtime-status] [15221] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15221] Ephemeral server survived."}}
[info] >  (node:15221) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15221) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15221) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15221) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15221) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15221) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15221) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15221) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15221) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:53:59.777Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:53:59.777Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:53:59.777Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:53:59.787Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:53:59.788Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:53:59.788Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:53:59.788Z] [worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15223.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15223.sock"}}
[debug] [2020-12-28T20:53:59.788Z] [worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: BUSY"}}
[debug] [2020-12-28T20:54:00.328Z] [runtime-status] [15223] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:54:00.331Z] [runtime-status] [15223] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:54:00.335Z] [runtime-status] [15223] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.337Z] [runtime-status] [15223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.337Z] [runtime-status] [15223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.342Z] [runtime-status] [15223] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:54:00.344Z] [runtime-status] [15223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.439Z] [runtime-status] [15223] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:54:00.439Z] [runtime-status] [15223] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:00.440Z] [runtime-status] [15223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.443Z] [runtime-status] [15223] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.443Z] [runtime-status] [15223] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:00.444Z] [runtime-status] [15223] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:00.711Z] [runtime-status] [15223] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:54:00.712Z] [runtime-status] [15223] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:54:00.712Z] [runtime-status] [15223] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:54:00.720Z] [runtime-status] [15223] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15223.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15223.sock"}}
[debug] [2020-12-28T20:54:00.727Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:54:00.739Z] [runtime-status] [15223] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Ephemeral server handling POST request"}}
[debug] [2020-12-28T20:54:00.744Z] [runtime-status] [15223] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15223] Ephemeral server survived."}}
[info] >  (node:15223) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined {"user":"(node:15223) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15223) UnhandledPromiseRejectionWarning: ReferenceError: request is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:21:17)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15223) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15223) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15223) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15223) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15223) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15223) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:54:28.148Z] [worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: exited"}}
[debug] [2020-12-28T20:54:28.148Z] [worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65e73cc1-4431-4e04-b794-478b28e84e75]: FINISHED"}}
[debug] [2020-12-28T20:54:28.148Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:54:35.287Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:54:36.288Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:54:36.288Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: FINISHING"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: FINISHING"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: FINISHING"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: FINISHING"}}
[debug] [2020-12-28T20:54:36.289Z] [worker-pool] Cleaned up workers for api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 3"}}
[debug] [2020-12-28T20:54:36.294Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:54:36.294Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:54:36.294Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:54:36.295Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15230.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15230.sock"}}
[debug] [2020-12-28T20:54:36.295Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: BUSY"}}
[debug] [2020-12-28T20:54:36.298Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: exited"}}
[debug] [2020-12-28T20:54:36.298Z] [worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a94592ba-95b8-452c-bcf2-4b12df62cec6]: FINISHED"}}
[debug] [2020-12-28T20:54:36.738Z] [runtime-status] [15230] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:54:36.742Z] [runtime-status] [15230] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:54:36.746Z] [runtime-status] [15230] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.748Z] [runtime-status] [15230] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.749Z] [runtime-status] [15230] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.753Z] [runtime-status] [15230] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:54:36.753Z] [runtime-status] [15230] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.859Z] [runtime-status] [15230] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:54:36.859Z] [runtime-status] [15230] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:36.860Z] [runtime-status] [15230] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.861Z] [runtime-status] [15230] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.861Z] [runtime-status] [15230] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:36.861Z] [runtime-status] [15230] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15230] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:37.146Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: IDLE"}}
[debug] [2020-12-28T20:54:38.856Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:54:38.857Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:54:38.857Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:54:38.857Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:54:38.864Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:54:38.865Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:54:38.865Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:54:38.865Z] [worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15231.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15231.sock"}}
[debug] [2020-12-28T20:54:38.865Z] [worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: BUSY"}}
[debug] [2020-12-28T20:54:39.545Z] [runtime-status] [15231] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:54:39.548Z] [runtime-status] [15231] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:54:39.554Z] [runtime-status] [15231] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.562Z] [runtime-status] [15231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.566Z] [runtime-status] [15231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.613Z] [runtime-status] [15231] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:54:39.619Z] [runtime-status] [15231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.776Z] [runtime-status] [15231] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:54:39.776Z] [runtime-status] [15231] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:39.777Z] [runtime-status] [15231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.779Z] [runtime-status] [15231] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.779Z] [runtime-status] [15231] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:39.779Z] [runtime-status] [15231] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:40.171Z] [runtime-status] [15231] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:54:40.173Z] [runtime-status] [15231] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:54:40.173Z] [runtime-status] [15231] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:54:40.232Z] [runtime-status] [15231] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15231.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15231.sock"}}
[debug] [2020-12-28T20:54:40.239Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:54:40.274Z] [runtime-status] [15231] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T20:54:40.284Z] [runtime-status] [15231] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15231] Ephemeral server survived."}}
[info] >  (node:15231) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15231) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15231) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15231) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15231) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15231) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15231) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15231) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15231) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:54:47.961Z] [work-queue] {"queueLength":1,"workRunningCount":30}
[debug] [2020-12-28T20:54:47.961Z] [work-queue] {"queueLength":0,"workRunningCount":31}
[debug] [2020-12-28T20:54:47.961Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:54:47.974Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:54:47.974Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2020-12-28T20:54:47.974Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:54:47.974Z] [worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15233.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15233.sock"}}
[debug] [2020-12-28T20:54:47.974Z] [worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: BUSY"}}
[debug] [2020-12-28T20:54:48.400Z] [runtime-status] [15233] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:54:48.405Z] [runtime-status] [15233] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:54:48.411Z] [runtime-status] [15233] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.414Z] [runtime-status] [15233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.415Z] [runtime-status] [15233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.421Z] [runtime-status] [15233] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:54:48.421Z] [runtime-status] [15233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.474Z] [runtime-status] [15233] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:54:48.474Z] [runtime-status] [15233] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:48.475Z] [runtime-status] [15233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.476Z] [runtime-status] [15233] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.476Z] [runtime-status] [15233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:48.477Z] [runtime-status] [15233] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:54:48.563Z] [worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: exited"}}
[debug] [2020-12-28T20:54:48.564Z] [worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-99bbb667-cf50-4298-b1bd-52faef6f4cc3]: FINISHED"}}
[debug] [2020-12-28T20:54:48.564Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:54:48.621Z] [runtime-status] [15233] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:54:48.622Z] [runtime-status] [15233] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:54:48.622Z] [runtime-status] [15233] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:54:48.629Z] [runtime-status] [15233] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15233.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15233.sock"}}
[debug] [2020-12-28T20:54:48.634Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:54:48.647Z] [runtime-status] [15233] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T20:54:48.654Z] [runtime-status] [15233] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15233] Ephemeral server survived."}}
[info] >  (node:15233) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15233) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15233) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15233) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15233) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15233) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15233) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15233) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15233) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:54:54.105Z] [worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: exited"}}
[debug] [2020-12-28T20:54:54.105Z] [worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-732800f9-391e-4cc3-8894-d443c46f59fb]: FINISHED"}}
[debug] [2020-12-28T20:54:54.105Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:54:58.905Z] [work-queue] {"queueLength":1,"workRunningCount":29}
[debug] [2020-12-28T20:54:58.905Z] [work-queue] {"queueLength":0,"workRunningCount":30}
[debug] [2020-12-28T20:54:58.905Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:54:58.905Z] [worker-pool] Cleaned up workers for api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 3"}}
[debug] [2020-12-28T20:54:58.913Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:54:58.913Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2020-12-28T20:54:58.913Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:54:58.913Z] [worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15235.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15235.sock"}}
[debug] [2020-12-28T20:54:58.913Z] [worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: BUSY"}}
[debug] [2020-12-28T20:54:59.437Z] [runtime-status] [15235] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:54:59.440Z] [runtime-status] [15235] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:54:59.445Z] [runtime-status] [15235] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.448Z] [runtime-status] [15235] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.449Z] [runtime-status] [15235] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.453Z] [runtime-status] [15235] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:54:59.454Z] [runtime-status] [15235] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.576Z] [runtime-status] [15235] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:54:59.576Z] [runtime-status] [15235] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:59.577Z] [runtime-status] [15235] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.578Z] [runtime-status] [15235] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.579Z] [runtime-status] [15235] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:54:59.579Z] [runtime-status] [15235] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:54:59.848Z] [runtime-status] [15235] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:54:59.849Z] [runtime-status] [15235] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:54:59.850Z] [runtime-status] [15235] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:54:59.861Z] [runtime-status] [15235] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15235.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15235.sock"}}
[debug] [2020-12-28T20:54:59.868Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:54:59.885Z] [runtime-status] [15235] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T20:54:59.895Z] [runtime-status] [15235] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15235] Ephemeral server survived."}}
[info] >  (node:15235) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15235) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15235) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:23:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15235) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15235) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15235) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15235) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15235) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15235) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:55:00.738Z] [worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: exited"}}
[debug] [2020-12-28T20:55:00.738Z] [worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a1afd72c-1429-461f-98c8-15ec823309b6]: FINISHED"}}
[debug] [2020-12-28T20:55:00.738Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:55:40.235Z] [worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: exited"}}
[debug] [2020-12-28T20:55:40.235Z] [worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c8b2c853-9aa4-4285-b18f-6c885291daca]: FINISHED"}}
[debug] [2020-12-28T20:55:40.235Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:55:48.640Z] [worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: exited"}}
[debug] [2020-12-28T20:55:48.640Z] [worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-94b1862c-fc96-4a54-a540-534ba8f63517]: FINISHED"}}
[debug] [2020-12-28T20:55:48.641Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:55:59.873Z] [worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: exited"}}
[debug] [2020-12-28T20:55:59.873Z] [worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1ec281df-164d-4f68-a477-204b27e4bce1]: FINISHED"}}
[debug] [2020-12-28T20:55:59.873Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:58:08.198Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T20:58:09.203Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T20:58:09.203Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: FINISHING"}}
[debug] [2020-12-28T20:58:09.203Z] [worker-pool] Cleaned up workers for api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 0"}}
[debug] [2020-12-28T20:58:09.212Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T20:58:09.212Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T20:58:09.212Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T20:58:09.212Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15257.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15257.sock"}}
[debug] [2020-12-28T20:58:09.212Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: BUSY"}}
[debug] [2020-12-28T20:58:09.215Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: exited"}}
[debug] [2020-12-28T20:58:09.215Z] [worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a4bbc8d9-ae6d-4dc0-bf81-7720282ea11a]: FINISHED"}}
[debug] [2020-12-28T20:58:09.825Z] [runtime-status] [15257] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:58:09.828Z] [runtime-status] [15257] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:58:09.832Z] [runtime-status] [15257] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.834Z] [runtime-status] [15257] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.835Z] [runtime-status] [15257] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.839Z] [runtime-status] [15257] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:58:09.842Z] [runtime-status] [15257] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.963Z] [runtime-status] [15257] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:58:09.963Z] [runtime-status] [15257] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:09.964Z] [runtime-status] [15257] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.965Z] [runtime-status] [15257] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.966Z] [runtime-status] [15257] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:09.966Z] [runtime-status] [15257] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15257] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:10.282Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: IDLE"}}
[debug] [2020-12-28T20:58:12.923Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:58:12.924Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:58:12.924Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T20:58:12.924Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T20:58:12.930Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:58:12.930Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T20:58:12.930Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:58:12.930Z] [worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15259.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15259.sock"}}
[debug] [2020-12-28T20:58:12.930Z] [worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: BUSY"}}
[debug] [2020-12-28T20:58:13.756Z] [runtime-status] [15259] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:58:13.761Z] [runtime-status] [15259] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:58:13.769Z] [runtime-status] [15259] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.772Z] [runtime-status] [15259] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.773Z] [runtime-status] [15259] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.783Z] [runtime-status] [15259] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:58:13.787Z] [runtime-status] [15259] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.916Z] [runtime-status] [15259] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:58:13.916Z] [runtime-status] [15259] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:13.917Z] [runtime-status] [15259] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.923Z] [runtime-status] [15259] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.924Z] [runtime-status] [15259] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:13.924Z] [runtime-status] [15259] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:14.199Z] [runtime-status] [15259] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:58:14.202Z] [runtime-status] [15259] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:58:14.203Z] [runtime-status] [15259] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:58:14.233Z] [runtime-status] [15259] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15259.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15259.sock"}}
[debug] [2020-12-28T20:58:14.242Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:58:14.289Z] [runtime-status] [15259] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T20:58:14.355Z] [runtime-status] [15259] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15259] Ephemeral server survived."}}
[info] >  (node:15259) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15259) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15259) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15259) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15259) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15259) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15259) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15259) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15259) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:58:18.941Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T20:58:18.941Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T20:58:18.941Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:58:18.953Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:58:18.954Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T20:58:18.954Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:58:18.954Z] [worker-api-516d377a-3965-4834-89b3-2884f44defab]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15260.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-516d377a-3965-4834-89b3-2884f44defab]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15260.sock"}}
[debug] [2020-12-28T20:58:18.954Z] [worker-api-516d377a-3965-4834-89b3-2884f44defab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-516d377a-3965-4834-89b3-2884f44defab]: BUSY"}}
[debug] [2020-12-28T20:58:19.362Z] [runtime-status] [15260] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:58:19.365Z] [runtime-status] [15260] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:58:19.371Z] [runtime-status] [15260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.373Z] [runtime-status] [15260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.374Z] [runtime-status] [15260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.385Z] [runtime-status] [15260] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:58:19.386Z] [runtime-status] [15260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.451Z] [runtime-status] [15260] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:58:19.451Z] [runtime-status] [15260] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:19.452Z] [runtime-status] [15260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.453Z] [runtime-status] [15260] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.453Z] [runtime-status] [15260] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:19.454Z] [runtime-status] [15260] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:19.576Z] [runtime-status] [15260] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:58:19.577Z] [runtime-status] [15260] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:58:19.578Z] [runtime-status] [15260] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:58:19.589Z] [runtime-status] [15260] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15260.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15260.sock"}}
[debug] [2020-12-28T20:58:19.596Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:58:19.608Z] [runtime-status] [15260] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T20:58:19.615Z] [runtime-status] [15260] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15260] Ephemeral server survived."}}
[info] >  (node:15260) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15260) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15260) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15260) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15260) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T20:58:32.977Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T20:58:32.977Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T20:58:32.977Z] Accepted request GET /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:58:32.985Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T20:58:32.985Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T20:58:32.985Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:58:32.985Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T20:58:32.985Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY"}}
[debug] [2020-12-28T20:58:33.334Z] [runtime-status] [15263] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T20:58:33.337Z] [runtime-status] [15263] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Disabled runtime features: undefined"}}
[debug] [2020-12-28T20:58:33.342Z] [runtime-status] [15263] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.344Z] [runtime-status] [15263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.345Z] [runtime-status] [15263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.351Z] [runtime-status] [15263] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T20:58:33.351Z] [runtime-status] [15263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.405Z] [runtime-status] [15263] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T20:58:33.406Z] [runtime-status] [15263] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:33.407Z] [runtime-status] [15263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.408Z] [runtime-status] [15263] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.410Z] [runtime-status] [15263] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T20:58:33.410Z] [runtime-status] [15263] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T20:58:33.539Z] [runtime-status] [15263] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:58:33.541Z] [runtime-status] [15263] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:58:33.541Z] [runtime-status] [15263] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:58:33.548Z] [runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T20:58:33.554Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:58:33.566Z] [runtime-status] [15263] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:58:33.580Z] [runtime-status] [15263] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:58:33.583Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: IDLE"}}
[debug] [2020-12-28T20:58:33.583Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:59:14.232Z] [worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: exited"}}
[debug] [2020-12-28T20:59:14.232Z] [worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-acb4b035-0a39-46dc-bca2-ae4a899f156a]: FINISHED"}}
[debug] [2020-12-28T20:59:14.233Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T20:59:19.597Z] [worker-api-516d377a-3965-4834-89b3-2884f44defab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-516d377a-3965-4834-89b3-2884f44defab]: exited"}}
[debug] [2020-12-28T20:59:19.597Z] [worker-api-516d377a-3965-4834-89b3-2884f44defab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-516d377a-3965-4834-89b3-2884f44defab]: FINISHED"}}
[debug] [2020-12-28T20:59:19.597Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T20:59:31.045Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T20:59:31.045Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T20:59:31.045Z] Accepted request GET /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T20:59:31.046Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-12-28T20:59:31.046Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T20:59:31.046Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T20:59:31.046Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY"}}
[debug] [2020-12-28T20:59:31.047Z] [runtime-status] [15263] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T20:59:31.050Z] [runtime-status] [15263] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T20:59:31.051Z] [runtime-status] [15263] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Running api in mode HTTPS"}}
[debug] [2020-12-28T20:59:31.054Z] [runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T20:59:31.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T20:59:31.065Z] [runtime-status] [15263] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server handling GET request"}}
[debug] [2020-12-28T20:59:31.069Z] [runtime-status] [15263] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T20:59:31.070Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: IDLE"}}
[debug] [2020-12-28T20:59:31.070Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T21:00:08.981Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T21:00:08.981Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T21:00:08.981Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T21:00:08.981Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:00:08.982Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T21:00:08.982Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: BUSY"}}
[debug] [2020-12-28T21:00:08.982Z] [runtime-status] [15263] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:00:08.983Z] [runtime-status] [15263] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:00:08.983Z] [runtime-status] [15263] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:00:08.984Z] [runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15263.sock"}}
[debug] [2020-12-28T21:00:08.986Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:00:08.990Z] [runtime-status] [15263] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T21:00:08.994Z] [runtime-status] [15263] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15263] Ephemeral server survived."}}
[info] >  (node:15263) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15263) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15263) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15263) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15263) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15263) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15263) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15263) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15263) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T21:00:13.698Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T21:00:13.698Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T21:00:13.698Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T21:00:13.718Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:00:13.718Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T21:00:13.718Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:00:13.718Z] [worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15270.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15270.sock"}}
[debug] [2020-12-28T21:00:13.718Z] [worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: BUSY"}}
[debug] [2020-12-28T21:00:14.419Z] [runtime-status] [15270] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:00:14.423Z] [runtime-status] [15270] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:00:14.433Z] [runtime-status] [15270] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.435Z] [runtime-status] [15270] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.436Z] [runtime-status] [15270] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.441Z] [runtime-status] [15270] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:00:14.442Z] [runtime-status] [15270] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.569Z] [runtime-status] [15270] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:00:14.570Z] [runtime-status] [15270] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:00:14.570Z] [runtime-status] [15270] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.571Z] [runtime-status] [15270] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.572Z] [runtime-status] [15270] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:14.573Z] [runtime-status] [15270] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:00:14.844Z] [runtime-status] [15270] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:00:14.846Z] [runtime-status] [15270] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:00:14.846Z] [runtime-status] [15270] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:00:14.851Z] [runtime-status] [15270] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15270.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15270.sock"}}
[debug] [2020-12-28T21:00:14.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:00:14.888Z] [runtime-status] [15270] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T21:00:14.897Z] [runtime-status] [15270] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15270] Ephemeral server survived."}}
[info] >  (node:15270) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15270) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15270) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15270) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15270) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15270) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15270) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15270) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15270) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T21:00:18.912Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T21:00:18.912Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T21:00:18.913Z] Accepted request GET /clone-df399/us-central1/api --> api
[debug] [2020-12-28T21:00:18.918Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:00:18.918Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T21:00:18.918Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:00:18.922Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15271.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15271.sock"}}
[debug] [2020-12-28T21:00:18.922Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: BUSY"}}
[debug] [2020-12-28T21:00:19.203Z] [runtime-status] [15271] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:00:19.206Z] [runtime-status] [15271] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:00:19.210Z] [runtime-status] [15271] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.211Z] [runtime-status] [15271] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.212Z] [runtime-status] [15271] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.218Z] [runtime-status] [15271] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:00:19.219Z] [runtime-status] [15271] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.275Z] [runtime-status] [15271] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:00:19.276Z] [runtime-status] [15271] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:00:19.277Z] [runtime-status] [15271] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.281Z] [runtime-status] [15271] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.282Z] [runtime-status] [15271] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:00:19.282Z] [runtime-status] [15271] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:00:19.506Z] [runtime-status] [15271] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:00:19.508Z] [runtime-status] [15271] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:00:19.509Z] [runtime-status] [15271] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:00:19.547Z] [runtime-status] [15271] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15271.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15271.sock"}}
[debug] [2020-12-28T21:00:19.556Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:00:19.580Z] [runtime-status] [15271] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Ephemeral server handling GET request"}}
[debug] [2020-12-28T21:00:19.610Z] [runtime-status] [15271] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15271] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T21:00:19.621Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: IDLE"}}
[debug] [2020-12-28T21:00:19.621Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T21:01:09.007Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: exited"}}
[debug] [2020-12-28T21:01:09.007Z] [worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-526516c3-dce7-4ebd-8388-05f845fd36f3]: FINISHED"}}
[debug] [2020-12-28T21:01:09.007Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T21:01:14.863Z] [worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: exited"}}
[debug] [2020-12-28T21:01:14.863Z] [worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-35c4d75b-203b-409d-a8cb-5cc70d5c4631]: FINISHED"}}
[debug] [2020-12-28T21:01:14.863Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T21:01:16.877Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T21:01:17.881Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T21:01:17.881Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: FINISHING"}}
[debug] [2020-12-28T21:01:17.881Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-12-28T21:01:17.881Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: FINISHING"}}
[debug] [2020-12-28T21:01:17.881Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2020-12-28T21:01:17.890Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T21:01:17.890Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T21:01:17.890Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T21:01:17.890Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15273.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15273.sock"}}
[debug] [2020-12-28T21:01:17.891Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: BUSY"}}
[debug] [2020-12-28T21:01:17.896Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: exited"}}
[debug] [2020-12-28T21:01:17.896Z] [worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d13ac139-aed5-489f-865c-fe3548778183]: FINISHED"}}
[debug] [2020-12-28T21:01:17.897Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: exited"}}
[debug] [2020-12-28T21:01:17.897Z] [worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fe8aa0c7-1a22-4bbd-8405-65a2569e772d]: FINISHED"}}
[debug] [2020-12-28T21:01:18.207Z] [runtime-status] [15273] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:01:18.210Z] [runtime-status] [15273] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:01:18.214Z] [runtime-status] [15273] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.215Z] [runtime-status] [15273] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.216Z] [runtime-status] [15273] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.222Z] [runtime-status] [15273] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:01:18.223Z] [runtime-status] [15273] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.271Z] [runtime-status] [15273] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:01:18.271Z] [runtime-status] [15273] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:18.275Z] [runtime-status] [15273] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.283Z] [runtime-status] [15273] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.287Z] [runtime-status] [15273] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:18.292Z] [runtime-status] [15273] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15273] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:18.445Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: IDLE"}}
[debug] [2020-12-28T21:01:20.284Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T21:01:20.285Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T21:01:20.285Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T21:01:20.285Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T21:01:20.285Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T21:01:20.293Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:01:20.293Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T21:01:20.293Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:01:20.293Z] [worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15274.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15274.sock"}}
[debug] [2020-12-28T21:01:20.293Z] [worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: BUSY"}}
[debug] [2020-12-28T21:01:21.021Z] [runtime-status] [15274] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:01:21.026Z] [runtime-status] [15274] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:01:21.034Z] [runtime-status] [15274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.036Z] [runtime-status] [15274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.038Z] [runtime-status] [15274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.045Z] [runtime-status] [15274] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:01:21.046Z] [runtime-status] [15274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.226Z] [runtime-status] [15274] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:01:21.227Z] [runtime-status] [15274] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:21.228Z] [runtime-status] [15274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.230Z] [runtime-status] [15274] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.231Z] [runtime-status] [15274] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:21.233Z] [runtime-status] [15274] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:21.778Z] [runtime-status] [15274] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:01:21.780Z] [runtime-status] [15274] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:01:21.780Z] [runtime-status] [15274] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:01:21.793Z] [runtime-status] [15274] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15274.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15274.sock"}}
[debug] [2020-12-28T21:01:21.805Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:01:21.836Z] [runtime-status] [15274] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  undefined {"user":"payment request recieved for amount,  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  undefined"}}
[debug] [2020-12-28T21:01:21.857Z] [runtime-status] [15274] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15274] Ephemeral server survived."}}
[info] >  (node:15274) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15274) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15274) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15274) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15274) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T21:01:28.964Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T21:01:28.965Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T21:01:28.965Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T21:01:28.975Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:01:28.975Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T21:01:28.975Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:01:28.976Z] [worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15276.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15276.sock"}}
[debug] [2020-12-28T21:01:28.976Z] [worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: BUSY"}}
[debug] [2020-12-28T21:01:29.342Z] [runtime-status] [15276] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:01:29.345Z] [runtime-status] [15276] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:01:29.349Z] [runtime-status] [15276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.350Z] [runtime-status] [15276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.351Z] [runtime-status] [15276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.358Z] [runtime-status] [15276] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:01:29.358Z] [runtime-status] [15276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.434Z] [runtime-status] [15276] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:01:29.434Z] [runtime-status] [15276] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:29.435Z] [runtime-status] [15276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.436Z] [runtime-status] [15276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.437Z] [runtime-status] [15276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:29.438Z] [runtime-status] [15276] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:29.564Z] [runtime-status] [15276] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:01:29.565Z] [runtime-status] [15276] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:01:29.565Z] [runtime-status] [15276] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:01:29.579Z] [runtime-status] [15276] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15276.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15276.sock"}}
[debug] [2020-12-28T21:01:29.584Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:01:29.603Z] [runtime-status] [15276] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  undefined {"user":"payment request recieved for amount,  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  undefined"}}
[debug] [2020-12-28T21:01:29.613Z] [runtime-status] [15276] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15276] Ephemeral server survived."}}
[info] >  (node:15276) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined {"user":"(node:15276) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15276) UnhandledPromiseRejectionWarning: ReferenceError: stripe is not defined"}}
[info] >      at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25) {"user":"    at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.post (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:27:25)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3) {"user":"    at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at app.use (/Users/asmaali/Desktop/CP/amazon-clone/functions/index.js:16:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:15276) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15276) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15276) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15276) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15276) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15276) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T21:01:47.307Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T21:01:48.307Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T21:01:48.307Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: FINISHING"}}
[debug] [2020-12-28T21:01:48.308Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T21:01:48.308Z] [worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: FINISHING"}}
[debug] [2020-12-28T21:01:48.308Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T21:01:48.308Z] [worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: FINISHING"}}
[debug] [2020-12-28T21:01:48.319Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T21:01:48.319Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T21:01:48.319Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T21:01:48.319Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15278.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15278.sock"}}
[debug] [2020-12-28T21:01:48.319Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: BUSY"}}
[debug] [2020-12-28T21:01:48.320Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: exited"}}
[debug] [2020-12-28T21:01:48.320Z] [worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7cae392e-3113-4ceb-aa2d-302d7413c2db]: FINISHED"}}
[debug] [2020-12-28T21:01:48.567Z] [runtime-status] [15278] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:01:48.569Z] [runtime-status] [15278] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:01:48.576Z] [runtime-status] [15278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.577Z] [runtime-status] [15278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.578Z] [runtime-status] [15278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.583Z] [runtime-status] [15278] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:01:48.584Z] [runtime-status] [15278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.629Z] [runtime-status] [15278] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:01:48.629Z] [runtime-status] [15278] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:48.630Z] [runtime-status] [15278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.631Z] [runtime-status] [15278] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.632Z] [runtime-status] [15278] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:01:48.632Z] [runtime-status] [15278] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15278] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:01:48.743Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: IDLE"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T21:02:21.797Z] [worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: exited"}}
[debug] [2020-12-28T21:02:21.798Z] [worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d036e84d-d68c-4078-8c69-88c606666a70]: FINISHED"}}
[debug] [2020-12-28T21:02:21.798Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T21:02:29.585Z] [worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: exited"}}
[debug] [2020-12-28T21:02:29.587Z] [worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-541c3b69-292c-4849-bb84-4696d4eea077]: FINISHED"}}
[debug] [2020-12-28T21:02:29.587Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T21:02:32.596Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T21:02:33.599Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T21:02:33.600Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: FINISHING"}}
[debug] [2020-12-28T21:02:33.600Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T21:02:33.600Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-12-28T21:02:33.607Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T21:02:33.607Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T21:02:33.607Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T21:02:33.608Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15280.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15280.sock"}}
[debug] [2020-12-28T21:02:33.608Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: BUSY"}}
[debug] [2020-12-28T21:02:33.613Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: exited"}}
[debug] [2020-12-28T21:02:33.613Z] [worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6c0c61ab-57fc-4c7c-a335-50544e732f4d]: FINISHED"}}
[debug] [2020-12-28T21:02:33.929Z] [runtime-status] [15280] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:02:33.931Z] [runtime-status] [15280] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:02:33.936Z] [runtime-status] [15280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.938Z] [runtime-status] [15280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.939Z] [runtime-status] [15280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.944Z] [runtime-status] [15280] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:02:33.944Z] [runtime-status] [15280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.995Z] [runtime-status] [15280] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:02:33.995Z] [runtime-status] [15280] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:33.996Z] [runtime-status] [15280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.999Z] [runtime-status] [15280] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.999Z] [runtime-status] [15280] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:33.999Z] [runtime-status] [15280] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15280] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:34.133Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: IDLE"}}
[debug] [2020-12-28T21:02:36.152Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T21:02:36.152Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T21:02:36.152Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T21:02:36.152Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T21:02:36.159Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:02:36.159Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T21:02:36.159Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:02:36.159Z] [worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15282.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15282.sock"}}
[debug] [2020-12-28T21:02:36.159Z] [worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: BUSY"}}
[debug] [2020-12-28T21:02:36.960Z] [runtime-status] [15282] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:02:36.979Z] [runtime-status] [15282] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:02:37.013Z] [runtime-status] [15282] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.018Z] [runtime-status] [15282] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.020Z] [runtime-status] [15282] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.029Z] [runtime-status] [15282] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:02:37.031Z] [runtime-status] [15282] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.220Z] [runtime-status] [15282] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:02:37.220Z] [runtime-status] [15282] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:37.221Z] [runtime-status] [15282] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.224Z] [runtime-status] [15282] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.224Z] [runtime-status] [15282] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:37.224Z] [runtime-status] [15282] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:37.623Z] [runtime-status] [15282] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:02:37.624Z] [runtime-status] [15282] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:02:37.624Z] [runtime-status] [15282] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:02:37.640Z] [runtime-status] [15282] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15282.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15282.sock"}}
[debug] [2020-12-28T21:02:37.662Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:02:37.681Z] [runtime-status] [15282] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T21:02:37.760Z] [runtime-status] [15282] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15282] Ephemeral server survived."}}
[info] >  (node:15282) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15282) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15282) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15282) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15282) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15282) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15282) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15282) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15282) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T21:02:56.594Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T21:02:56.594Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T21:02:56.594Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T21:02:56.600Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:02:56.601Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T21:02:56.601Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:02:56.601Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15285.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15285.sock"}}
[debug] [2020-12-28T21:02:56.601Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: BUSY"}}
[debug] [2020-12-28T21:02:57.271Z] [runtime-status] [15285] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:02:57.278Z] [runtime-status] [15285] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:02:57.285Z] [runtime-status] [15285] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.287Z] [runtime-status] [15285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.289Z] [runtime-status] [15285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.296Z] [runtime-status] [15285] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:02:57.296Z] [runtime-status] [15285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.411Z] [runtime-status] [15285] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:02:57.412Z] [runtime-status] [15285] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:57.412Z] [runtime-status] [15285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.413Z] [runtime-status] [15285] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.413Z] [runtime-status] [15285] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:02:57.413Z] [runtime-status] [15285] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:02:57.710Z] [runtime-status] [15285] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:02:57.711Z] [runtime-status] [15285] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:02:57.711Z] [runtime-status] [15285] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:02:57.716Z] [runtime-status] [15285] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15285.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15285.sock"}}
[debug] [2020-12-28T21:02:57.721Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:02:57.736Z] [runtime-status] [15285] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T21:02:57.752Z] [runtime-status] [15285] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15285] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T21:02:58.292Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: IDLE"}}
[debug] [2020-12-28T21:02:58.293Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T21:03:14.310Z] File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/asmaali/Desktop/CP/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2020-12-28T21:03:15.316Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2020-12-28T21:03:15.317Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: FINISHING"}}
[debug] [2020-12-28T21:03:15.317Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2020-12-28T21:03:15.317Z] [worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: FINISHING"}}
[debug] [2020-12-28T21:03:15.317Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2020-12-28T21:03:15.317Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: FINISHING"}}
[debug] [2020-12-28T21:03:15.328Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2020-12-28T21:03:15.329Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2020-12-28T21:03:15.329Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2020-12-28T21:03:15.330Z] [worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15288.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15288.sock"}}
[debug] [2020-12-28T21:03:15.330Z] [worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: BUSY"}}
[debug] [2020-12-28T21:03:15.331Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: exited"}}
[debug] [2020-12-28T21:03:15.331Z] [worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-89b432b0-152d-4397-a6c2-045b27ef077b]: FINISHED"}}
[debug] [2020-12-28T21:03:15.331Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: exited"}}
[debug] [2020-12-28T21:03:15.332Z] [worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac98bed-5cf6-45b7-97ec-157a2ed46c40]: FINISHED"}}
[debug] [2020-12-28T21:03:15.670Z] [runtime-status] [15288] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:03:15.674Z] [runtime-status] [15288] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:03:15.678Z] [runtime-status] [15288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.680Z] [runtime-status] [15288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.681Z] [runtime-status] [15288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.687Z] [runtime-status] [15288] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:03:15.687Z] [runtime-status] [15288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.750Z] [runtime-status] [15288] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:03:15.751Z] [runtime-status] [15288] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:03:15.752Z] [runtime-status] [15288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.753Z] [runtime-status] [15288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.753Z] [runtime-status] [15288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:15.754Z] [runtime-status] [15288] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15288] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:03:15.935Z] [worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b240b40b-2529-46d1-ae78-aa82034e4522]: IDLE"}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T21:03:37.652Z] [worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: exited"}}
[debug] [2020-12-28T21:03:37.652Z] [worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6d3f6e8e-2104-432d-a5c4-f465fe014f8a]: FINISHED"}}
[debug] [2020-12-28T21:03:37.652Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T21:03:44.287Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T21:03:44.287Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T21:03:44.287Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T21:03:44.287Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2020-12-28T21:03:44.287Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2020-12-28T21:03:44.294Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T21:03:44.295Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T21:03:44.295Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T21:03:44.296Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock"}}
[debug] [2020-12-28T21:03:44.296Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: BUSY"}}
[debug] [2020-12-28T21:03:44.761Z] [runtime-status] [15293] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T21:03:44.764Z] [runtime-status] [15293] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Disabled runtime features: undefined"}}
[debug] [2020-12-28T21:03:44.769Z] [runtime-status] [15293] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.771Z] [runtime-status] [15293] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.771Z] [runtime-status] [15293] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.778Z] [runtime-status] [15293] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T21:03:44.778Z] [runtime-status] [15293] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.938Z] [runtime-status] [15293] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T21:03:44.938Z] [runtime-status] [15293] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T21:03:44.940Z] [runtime-status] [15293] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.940Z] [runtime-status] [15293] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.941Z] [runtime-status] [15293] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T21:03:44.941Z] [runtime-status] [15293] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T21:03:45.218Z] [runtime-status] [15293] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T21:03:45.219Z] [runtime-status] [15293] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T21:03:45.219Z] [runtime-status] [15293] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Running api in mode HTTPS"}}
[debug] [2020-12-28T21:03:45.229Z] [runtime-status] [15293] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock"}}
[debug] [2020-12-28T21:03:45.236Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T21:03:45.245Z] [runtime-status] [15293] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T21:03:45.261Z] [runtime-status] [15293] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T21:03:45.675Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: IDLE"}}
[debug] [2020-12-28T21:03:45.675Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:27:51.392Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:27:51.393Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:27:51.393Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T23:27:51.393Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:27:51.394Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock"}}
[debug] [2020-12-28T23:27:51.394Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: BUSY"}}
[debug] [2020-12-28T23:27:51.399Z] [runtime-status] [15293] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:27:51.401Z] [runtime-status] [15293] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:27:51.401Z] [runtime-status] [15293] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:27:51.407Z] [runtime-status] [15293] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15293.sock"}}
[debug] [2020-12-28T23:27:51.422Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:27:51.432Z] [runtime-status] [15293] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T23:27:51.443Z] [runtime-status] [15293] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15293] Ephemeral server survived."}}
[info] >  (node:15293) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15293) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15293) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15293) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15293) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15293) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15293) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15293) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15293) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T23:27:59.302Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T23:27:59.302Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T23:27:59.303Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=1499 --> api
[debug] [2020-12-28T23:27:59.318Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T23:27:59.319Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T23:27:59.319Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:27:59.319Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:27:59.320Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY"}}
[debug] [2020-12-28T23:28:00.512Z] [runtime-status] [15775] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T23:28:00.516Z] [runtime-status] [15775] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Disabled runtime features: undefined"}}
[debug] [2020-12-28T23:28:00.524Z] [runtime-status] [15775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.529Z] [runtime-status] [15775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.530Z] [runtime-status] [15775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.537Z] [runtime-status] [15775] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T23:28:00.538Z] [runtime-status] [15775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.685Z] [runtime-status] [15775] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T23:28:00.685Z] [runtime-status] [15775] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T23:28:00.687Z] [runtime-status] [15775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.688Z] [runtime-status] [15775] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.689Z] [runtime-status] [15775] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:28:00.689Z] [runtime-status] [15775] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T23:28:01.022Z] [runtime-status] [15775] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:28:01.025Z] [runtime-status] [15775] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:28:01.025Z] [runtime-status] [15775] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:28:01.030Z] [runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:28:01.044Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:28:01.057Z] [runtime-status] [15775] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  1499 {"user":"payment request recieved for amount,  1499","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  1499"}}
[debug] [2020-12-28T23:28:01.081Z] [runtime-status] [15775] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:28:01.606Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE"}}
[debug] [2020-12-28T23:28:01.606Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T23:28:51.429Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: exited"}}
[debug] [2020-12-28T23:28:51.429Z] [worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bc5a655-3470-4dd5-a601-be8baddbd6ac]: FINISHED"}}
[debug] [2020-12-28T23:28:51.429Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:30:28.211Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:30:28.212Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:30:28.212Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=4472 --> api
[debug] [2020-12-28T23:30:28.213Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2020-12-28T23:30:28.213Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:30:28.213Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:30:28.213Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY"}}
[debug] [2020-12-28T23:30:28.219Z] [runtime-status] [15775] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:30:28.222Z] [runtime-status] [15775] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:30:28.222Z] [runtime-status] [15775] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:30:28.223Z] [runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:30:28.228Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:30:28.243Z] [runtime-status] [15775] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  4472 {"user":"payment request recieved for amount,  4472","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  4472"}}
[debug] [2020-12-28T23:30:28.252Z] [runtime-status] [15775] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:30:28.653Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE"}}
[debug] [2020-12-28T23:30:28.653Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:36:17.581Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:36:17.584Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:36:17.584Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=4472 --> api
[debug] [2020-12-28T23:36:17.585Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:36:17.585Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:36:17.586Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY"}}
[debug] [2020-12-28T23:36:17.591Z] [runtime-status] [15775] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:36:17.596Z] [runtime-status] [15775] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:36:17.596Z] [runtime-status] [15775] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:36:17.598Z] [runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:36:17.608Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:36:17.625Z] [runtime-status] [15775] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  4472 {"user":"payment request recieved for amount,  4472","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  4472"}}
[debug] [2020-12-28T23:36:17.637Z] [runtime-status] [15775] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:36:18.286Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE"}}
[debug] [2020-12-28T23:36:18.287Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:36:57.710Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:36:57.711Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:36:57.711Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=4472 --> api
[debug] [2020-12-28T23:36:57.711Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:36:57.711Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:36:57.711Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY"}}
[debug] [2020-12-28T23:36:57.712Z] [runtime-status] [15775] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:36:57.713Z] [runtime-status] [15775] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:36:57.713Z] [runtime-status] [15775] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:36:57.713Z] [runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:36:57.715Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:36:57.720Z] [runtime-status] [15775] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  4472 {"user":"payment request recieved for amount,  4472","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  4472"}}
[debug] [2020-12-28T23:36:57.722Z] [runtime-status] [15775] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:36:57.970Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: IDLE"}}
[debug] [2020-12-28T23:36:57.971Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:38:05.694Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:38:05.694Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:38:05.694Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T23:38:05.694Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:38:05.695Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:38:05.697Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: BUSY"}}
[debug] [2020-12-28T23:38:05.697Z] [runtime-status] [15775] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:38:05.698Z] [runtime-status] [15775] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:38:05.699Z] [runtime-status] [15775] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:38:05.700Z] [runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15775.sock"}}
[debug] [2020-12-28T23:38:05.702Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:38:05.705Z] [runtime-status] [15775] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T23:38:05.707Z] [runtime-status] [15775] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15775] Ephemeral server survived."}}
[info] >  (node:15775) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15775) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15775) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15775) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15775) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15775) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15775) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15775) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15775) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T23:39:05.740Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: exited"}}
[debug] [2020-12-28T23:39:05.740Z] [worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-427b0722-fb6d-4e7c-b7ff-a58d906216db]: FINISHED"}}
[debug] [2020-12-28T23:39:05.741Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:41:11.233Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:41:11.233Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:41:11.234Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T23:41:11.234Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2020-12-28T23:41:11.246Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T23:41:11.247Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2020-12-28T23:41:11.247Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:41:11.247Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock"}}
[debug] [2020-12-28T23:41:11.247Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: BUSY"}}
[debug] [2020-12-28T23:41:12.733Z] [runtime-status] [15855] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T23:41:12.745Z] [runtime-status] [15855] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Disabled runtime features: undefined"}}
[debug] [2020-12-28T23:41:12.766Z] [runtime-status] [15855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:12.769Z] [runtime-status] [15855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:12.772Z] [runtime-status] [15855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:12.785Z] [runtime-status] [15855] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T23:41:12.797Z] [runtime-status] [15855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:13.074Z] [runtime-status] [15855] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T23:41:13.075Z] [runtime-status] [15855] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T23:41:13.076Z] [runtime-status] [15855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:13.077Z] [runtime-status] [15855] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:13.078Z] [runtime-status] [15855] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:41:13.078Z] [runtime-status] [15855] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T23:41:13.470Z] [runtime-status] [15855] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:41:13.474Z] [runtime-status] [15855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:41:13.474Z] [runtime-status] [15855] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:41:13.493Z] [runtime-status] [15855] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock"}}
[debug] [2020-12-28T23:41:13.511Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:41:13.582Z] [runtime-status] [15855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T23:41:13.652Z] [runtime-status] [15855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:41:14.279Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: IDLE"}}
[debug] [2020-12-28T23:41:14.279Z] [work-queue] {"queueLength":0,"workRunningCount":26}
[debug] [2020-12-28T23:41:53.239Z] [work-queue] {"queueLength":1,"workRunningCount":26}
[debug] [2020-12-28T23:41:53.239Z] [work-queue] {"queueLength":0,"workRunningCount":27}
[debug] [2020-12-28T23:41:53.239Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T23:41:53.239Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:41:53.239Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock"}}
[debug] [2020-12-28T23:41:53.239Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: BUSY"}}
[debug] [2020-12-28T23:41:53.240Z] [runtime-status] [15855] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:41:53.242Z] [runtime-status] [15855] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:41:53.242Z] [runtime-status] [15855] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:41:53.243Z] [runtime-status] [15855] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15855.sock"}}
[debug] [2020-12-28T23:41:53.246Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:41:53.252Z] [runtime-status] [15855] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T23:41:53.256Z] [runtime-status] [15855] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15855] Ephemeral server survived."}}
[info] >  (node:15855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15855) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15855) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15855) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T23:42:20.568Z] [work-queue] {"queueLength":1,"workRunningCount":27}
[debug] [2020-12-28T23:42:20.568Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T23:42:20.568Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T23:42:20.577Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T23:42:20.577Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2020-12-28T23:42:20.577Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:42:20.577Z] [worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15871.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15871.sock"}}
[debug] [2020-12-28T23:42:20.578Z] [worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: BUSY"}}
[debug] [2020-12-28T23:42:21.440Z] [runtime-status] [15871] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T23:42:21.445Z] [runtime-status] [15871] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Disabled runtime features: undefined"}}
[debug] [2020-12-28T23:42:21.462Z] [runtime-status] [15871] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.465Z] [runtime-status] [15871] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.469Z] [runtime-status] [15871] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.478Z] [runtime-status] [15871] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T23:42:21.479Z] [runtime-status] [15871] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.665Z] [runtime-status] [15871] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T23:42:21.666Z] [runtime-status] [15871] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T23:42:21.668Z] [runtime-status] [15871] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.669Z] [runtime-status] [15871] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.670Z] [runtime-status] [15871] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:21.671Z] [runtime-status] [15871] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T23:42:22.206Z] [runtime-status] [15871] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:42:22.207Z] [runtime-status] [15871] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:42:22.207Z] [runtime-status] [15871] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:42:22.220Z] [runtime-status] [15871] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15871.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15871.sock"}}
[debug] [2020-12-28T23:42:22.243Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:42:22.284Z] [runtime-status] [15871] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T23:42:22.321Z] [runtime-status] [15871] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15871] Ephemeral server survived."}}
[info] >  (node:15871) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15871) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15871) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15871) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15871) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15871) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15871) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15871) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15871) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2020-12-28T23:42:28.055Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T23:42:28.056Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T23:42:28.056Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=2973 --> api
[debug] [2020-12-28T23:42:28.072Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2020-12-28T23:42:28.072Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2020-12-28T23:42:28.072Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:42:28.072Z] [worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock"}}
[debug] [2020-12-28T23:42:28.073Z] [worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: BUSY"}}
[debug] [2020-12-28T23:42:29.134Z] [runtime-status] [15873] Functions runtime initialized. {"cwd":"/Users/asmaali/Desktop/CP/amazon-clone/functions","node_version":"10.16.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Functions runtime initialized. {\"cwd\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions\",\"node_version\":\"10.16.1\"}"}}
[debug] [2020-12-28T23:42:29.152Z] [runtime-status] [15873] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Disabled runtime features: undefined"}}
[debug] [2020-12-28T23:42:29.161Z] [runtime-status] [15873] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.164Z] [runtime-status] [15873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.167Z] [runtime-status] [15873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.187Z] [runtime-status] [15873] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2020-12-28T23:42:29.190Z] [runtime-status] [15873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.374Z] [runtime-status] [15873] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Checked functions.config() {\"config\":{}}"}}
[debug] [2020-12-28T23:42:29.374Z] [runtime-status] [15873] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2020-12-28T23:42:29.375Z] [runtime-status] [15873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.378Z] [runtime-status] [15873] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.379Z] [runtime-status] [15873] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2020-12-28T23:42:29.379Z] [runtime-status] [15873] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2020-12-28T23:42:29.757Z] [runtime-status] [15873] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:42:29.758Z] [runtime-status] [15873] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:42:29.758Z] [runtime-status] [15873] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:42:29.776Z] [runtime-status] [15873] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock"}}
[debug] [2020-12-28T23:42:29.792Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:42:29.822Z] [runtime-status] [15873] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  2973 {"user":"payment request recieved for amount,  2973","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  2973"}}
[debug] [2020-12-28T23:42:29.898Z] [runtime-status] [15873] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2020-12-28T23:42:30.326Z] [worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: IDLE"}}
[debug] [2020-12-28T23:42:30.326Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[debug] [2020-12-28T23:42:38.164Z] [work-queue] {"queueLength":1,"workRunningCount":28}
[debug] [2020-12-28T23:42:38.164Z] [work-queue] {"queueLength":0,"workRunningCount":29}
[debug] [2020-12-28T23:42:38.164Z] Accepted request POST /clone-df399/us-central1/api/payments/create?total=0 --> api
[debug] [2020-12-28T23:42:38.164Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2020-12-28T23:42:38.165Z] [worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: Assigning socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock"}}
[debug] [2020-12-28T23:42:38.165Z] [worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b7a3103-28c7-488f-befb-83784867b2a4]: BUSY"}}
[debug] [2020-12-28T23:42:38.168Z] [runtime-status] [15873] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2020-12-28T23:42:38.169Z] [runtime-status] [15873] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2020-12-28T23:42:38.169Z] [runtime-status] [15873] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Running api in mode HTTPS"}}
[debug] [2020-12-28T23:42:38.170Z] [runtime-status] [15873] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Attempting to listen to socketPath: /var/folders/zz/22fj51sx51z258y7k5rtkv440000gn/T/fire_emu_15873.sock"}}
[debug] [2020-12-28T23:42:38.172Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2020-12-28T23:42:38.179Z] [runtime-status] [15873] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Ephemeral server handling POST request"}}
[info] >  payment request recieved for amount,  0 {"user":"payment request recieved for amount,  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request recieved for amount,  0"}}
[debug] [2020-12-28T23:42:38.181Z] [runtime-status] [15873] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15873] Ephemeral server survived."}}
[info] >  (node:15873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15873) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/Users/asmaali/Desktop/CP/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:15873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:15873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15873) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:15873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15873) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T23:42:53.269Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: exited"}}
[debug] [2020-12-28T23:42:53.270Z] [worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8741894-3c3d-4617-9ae2-d23c71e5e1d9]: FINISHED"}}
[debug] [2020-12-28T23:42:53.270Z] [work-queue] {"queueLength":0,"workRunningCount":28}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638 {"user":"/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/Users/asmaali/.nvm/versions/node/v10.16.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:638:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2020-12-28T23:43:22.225Z] [worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: exited"}}
[debug] [2020-12-28T23:43:22.225Z] [worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-08a90f10-05ac-40b0-b35e-f608936c4687]: FINISHED"}}
[debug] [2020-12-28T23:43:22.225Z] [work-queue] {"queueLength":0,"workRunningCount":27}
